<!DOCTYPE html>

<html>
<head>
  <title>Color factory</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="../../docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page_wrapper">
            <div id="jump_page">
              
                
                <a class="source" href="../core/animationloop.html">
                  ./source/core/animationloop.js
                </a>
              
                
                <a class="source" href="../core/component.html">
                  ./source/core/component.js
                </a>
              
                
                <a class="source" href="../core/document.html">
                  ./source/core/document.js
                </a>
              
                
                <a class="source" href="../core/events.html">
                  ./source/core/events.js
                </a>
              
                
                <a class="source" href="../core/init.html">
                  ./source/core/init.js
                </a>
              
                
                <a class="source" href="../core/library.html">
                  ./source/core/library.js
                </a>
              
                
                <a class="source" href="../core/userInteraction.html">
                  ./source/core/userInteraction.js
                </a>
              
                
                <a class="source" href="../core/utilities.html">
                  ./source/core/utilities.js
                </a>
              
                
                <a class="source" href="action.html">
                  ./source/factory/action.js
                </a>
              
                
                <a class="source" href="anchor.html">
                  ./source/factory/anchor.js
                </a>
              
                
                <a class="source" href="animation.html">
                  ./source/factory/animation.js
                </a>
              
                
                <a class="source" href="bezier.html">
                  ./source/factory/bezier.js
                </a>
              
                
                <a class="source" href="block.html">
                  ./source/factory/block.js
                </a>
              
                
                <a class="source" href="canvas.html">
                  ./source/factory/canvas.js
                </a>
              
                
                <a class="source" href="cell.html">
                  ./source/factory/cell.js
                </a>
              
                
                <a class="source" href="cog.html">
                  ./source/factory/cog.js
                </a>
              
                
                <a class="source" href="color.html">
                  ./source/factory/color.js
                </a>
              
                
                <a class="source" href="coordinate.html">
                  ./source/factory/coordinate.js
                </a>
              
                
                <a class="source" href="element.html">
                  ./source/factory/element.js
                </a>
              
                
                <a class="source" href="emitter.html">
                  ./source/factory/emitter.js
                </a>
              
                
                <a class="source" href="filter.html">
                  ./source/factory/filter.js
                </a>
              
                
                <a class="source" href="filterEngine.html">
                  ./source/factory/filterEngine.js
                </a>
              
                
                <a class="source" href="fontAttributes.html">
                  ./source/factory/fontAttributes.js
                </a>
              
                
                <a class="source" href="gradient.html">
                  ./source/factory/gradient.js
                </a>
              
                
                <a class="source" href="grid.html">
                  ./source/factory/grid.js
                </a>
              
                
                <a class="source" href="group.html">
                  ./source/factory/group.js
                </a>
              
                
                <a class="source" href="imageAsset.html">
                  ./source/factory/imageAsset.js
                </a>
              
                
                <a class="source" href="line.html">
                  ./source/factory/line.js
                </a>
              
                
                <a class="source" href="loom.html">
                  ./source/factory/loom.js
                </a>
              
                
                <a class="source" href="mesh.html">
                  ./source/factory/mesh.js
                </a>
              
                
                <a class="source" href="net.html">
                  ./source/factory/net.js
                </a>
              
                
                <a class="source" href="noise.html">
                  ./source/factory/noise.js
                </a>
              
                
                <a class="source" href="oval.html">
                  ./source/factory/oval.js
                </a>
              
                
                <a class="source" href="palette.html">
                  ./source/factory/palette.js
                </a>
              
                
                <a class="source" href="particle.html">
                  ./source/factory/particle.js
                </a>
              
                
                <a class="source" href="particleForce.html">
                  ./source/factory/particleForce.js
                </a>
              
                
                <a class="source" href="particleHistory.html">
                  ./source/factory/particleHistory.js
                </a>
              
                
                <a class="source" href="particleSpring.html">
                  ./source/factory/particleSpring.js
                </a>
              
                
                <a class="source" href="particleWorld.html">
                  ./source/factory/particleWorld.js
                </a>
              
                
                <a class="source" href="pattern.html">
                  ./source/factory/pattern.js
                </a>
              
                
                <a class="source" href="phrase.html">
                  ./source/factory/phrase.js
                </a>
              
                
                <a class="source" href="picture.html">
                  ./source/factory/picture.js
                </a>
              
                
                <a class="source" href="polygon.html">
                  ./source/factory/polygon.js
                </a>
              
                
                <a class="source" href="polyline.html">
                  ./source/factory/polyline.js
                </a>
              
                
                <a class="source" href="quadratic.html">
                  ./source/factory/quadratic.js
                </a>
              
                
                <a class="source" href="quaternion.html">
                  ./source/factory/quaternion.js
                </a>
              
                
                <a class="source" href="radialGradient.html">
                  ./source/factory/radialGradient.js
                </a>
              
                
                <a class="source" href="rectangle.html">
                  ./source/factory/rectangle.js
                </a>
              
                
                <a class="source" href="renderAnimation.html">
                  ./source/factory/renderAnimation.js
                </a>
              
                
                <a class="source" href="shape.html">
                  ./source/factory/shape.js
                </a>
              
                
                <a class="source" href="spiral.html">
                  ./source/factory/spiral.js
                </a>
              
                
                <a class="source" href="spriteAsset.html">
                  ./source/factory/spriteAsset.js
                </a>
              
                
                <a class="source" href="stack.html">
                  ./source/factory/stack.js
                </a>
              
                
                <a class="source" href="star.html">
                  ./source/factory/star.js
                </a>
              
                
                <a class="source" href="state.html">
                  ./source/factory/state.js
                </a>
              
                
                <a class="source" href="tetragon.html">
                  ./source/factory/tetragon.js
                </a>
              
                
                <a class="source" href="ticker.html">
                  ./source/factory/ticker.js
                </a>
              
                
                <a class="source" href="tracer.html">
                  ./source/factory/tracer.js
                </a>
              
                
                <a class="source" href="tween.html">
                  ./source/factory/tween.js
                </a>
              
                
                <a class="source" href="unstackedElement.html">
                  ./source/factory/unstackedElement.js
                </a>
              
                
                <a class="source" href="vector.html">
                  ./source/factory/vector.js
                </a>
              
                
                <a class="source" href="videoAsset.html">
                  ./source/factory/videoAsset.js
                </a>
              
                
                <a class="source" href="wheel.html">
                  ./source/factory/wheel.js
                </a>
              
                
                <a class="source" href="../mixin/anchor.html">
                  ./source/mixin/anchor.js
                </a>
              
                
                <a class="source" href="../mixin/asset.html">
                  ./source/mixin/asset.js
                </a>
              
                
                <a class="source" href="../mixin/assetConsumer.html">
                  ./source/mixin/assetConsumer.js
                </a>
              
                
                <a class="source" href="../mixin/base.html">
                  ./source/mixin/base.js
                </a>
              
                
                <a class="source" href="../mixin/cascade.html">
                  ./source/mixin/cascade.js
                </a>
              
                
                <a class="source" href="../mixin/delta.html">
                  ./source/mixin/delta.js
                </a>
              
                
                <a class="source" href="../mixin/displayShape.html">
                  ./source/mixin/displayShape.js
                </a>
              
                
                <a class="source" href="../mixin/dom.html">
                  ./source/mixin/dom.js
                </a>
              
                
                <a class="source" href="../mixin/entity.html">
                  ./source/mixin/entity.js
                </a>
              
                
                <a class="source" href="../mixin/filter.html">
                  ./source/mixin/filter.js
                </a>
              
                
                <a class="source" href="../mixin/mimic.html">
                  ./source/mixin/mimic.js
                </a>
              
                
                <a class="source" href="../mixin/path.html">
                  ./source/mixin/path.js
                </a>
              
                
                <a class="source" href="../mixin/pattern.html">
                  ./source/mixin/pattern.js
                </a>
              
                
                <a class="source" href="../mixin/pivot.html">
                  ./source/mixin/pivot.js
                </a>
              
                
                <a class="source" href="../mixin/position.html">
                  ./source/mixin/position.js
                </a>
              
                
                <a class="source" href="../mixin/shapeBasic.html">
                  ./source/mixin/shapeBasic.js
                </a>
              
                
                <a class="source" href="../mixin/shapeCurve.html">
                  ./source/mixin/shapeCurve.js
                </a>
              
                
                <a class="source" href="../mixin/shapePathCalculation.html">
                  ./source/mixin/shapePathCalculation.js
                </a>
              
                
                <a class="source" href="../mixin/styles.html">
                  ./source/mixin/styles.js
                </a>
              
                
                <a class="source" href="../mixin/tween.html">
                  ./source/mixin/tween.js
                </a>
              
            </div>
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-1">&#x00a7;</a>
              </div>
              <h1 id="color-factory">Color factory</h1>
<p>Color objects generate CSS rgb() or rgba() color strings, which can then be used to set an entity’s <a href="./state.html">State</a> object’s <strong>fillStyle</strong>, <strong>strokeStyle</strong> and <strong>shadowColor</strong> attributes.</p>
<ul>
<li>Factory can accept any legal CSS color keyword as an attribute, alongside ‘#nnn’ and ‘#nnnnnn’ hexadecimal Strings. It will accept ‘rgb()’ and ‘rgba()’ strings under certain conditions.</li>
<li>It can also accept <strong>r</strong>, <strong>g</strong>, <strong>b</strong> and <strong>a</strong> channel Number attributes (0-255 integers for r, g, b; 0-1 float Number for a), from which a color can be constructed.</li>
<li>It can be used to generate random colors, using channel <strong>max</strong> and <strong>min</strong> integer Number attributes to limit the range of the random colors.</li>
<li>It can be deltaAnimated by setting channel <strong>shift</strong> float Number attributes and setting the <strong>autoUpdate</strong> Boolean flag to true. Delta animations can run until values hit their set max/min values, or can bounce between min and max values, depending on the setting of the channel <strong>bounce</strong> Boolean flags.</li>
<li>It can also be animated directly, or using delta animation, or act as the target for <strong>Tween</strong> animations.</li>
<li>Colors can be cloned, and killed.</li>
</ul>

            </div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-2">&#x00a7;</a>
              </div>
              <p>TODO: The color object does not yet handle the following color inputs:</p>
<ul>
<li><code>hsl[a](H, S, L[, A])</code> - color will be treated as transparent black</li>
<li><code>hsl[a](H S L[ / A])</code> - color will be treated as transparent black</li>
<li>for <code>rgb()</code> and <code>rgba()</code>, if any of the values (including alpha) is given as a %Number, all values will be treated as percentages (in the spec, rgb values all need to be either integer Number 0-255, or %Number 0%-100%, but channels cannot mix the two notations, whereas the alpha value format <em>can</em> differ from rgb value format)</li>
</ul>

            </div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-3">&#x00a7;</a>
              </div>
              <h4 id="demos">Demos:</h4>
<ul>
<li><a href="../../demo/canvas-031.html">Canvas-031</a> - Cell generation and processing order - kaleidoscope clock</li>
<li><a href="../../demo/component-004.html">Component-004</a> - Scrawl-canvas packets; save and load a range of different entitys</li>
<li><a href="../../demo/dom-009.html">DOM-009</a> - Stop and restart the main animation loop; add and remove event listener; retrieve all artefacts at a given coordinate</li>
<li><a href="../../demo/dom-012.html">DOM-012</a> - Add and remove (kill) Scrawl-canvas canvas elements programmatically</li>
</ul>

            </div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-4">&#x00a7;</a>
              </div>
              <h4 id="imports">Imports</h4>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">import</span> { <span class="hljs-title">constructors</span>, <span class="hljs-title">entity</span> } <span class="hljs-title">from</span> &#x27;../<span class="hljs-title">core</span>/<span class="hljs-title">library</span>.<span class="hljs-title">js</span>&#x27;;
<span class="hljs-keyword">import</span> { mergeOver, xt, xtGet, isa_obj, easeOutSine, easeInSine, easeOutInSine, easeOutQuad, easeInQuad, easeOutInQuad, easeOutCubic, easeInCubic, easeOutInCubic, easeOutQuart, easeInQuart, easeOutInQuart, easeOutQuint, easeInQuint, easeOutInQuint, easeOutExpo, easeInExpo, easeOutInExpo, easeOutCirc, easeInCirc, easeOutInCirc, easeOutBack, easeInBack, easeOutInBack, easeOutElastic, easeInElastic, easeOutInElastic, easeOutBounce, easeInBounce, easeOutInBounce } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../core/utilities.js&#x27;</span>;

<span class="hljs-keyword">import</span> baseMix <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../mixin/base.js&#x27;</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-5">&#x00a7;</a>
              </div>
              <h4 id="color-constructor">Color constructor</h4>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">const</span> Color = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">items = {}</span>) </span>{

    <span class="hljs-built_in">this</span>.makeName(items.name);
    <span class="hljs-built_in">this</span>.register();
    <span class="hljs-built_in">this</span>.set(<span class="hljs-built_in">this</span>.defs);
    <span class="hljs-built_in">this</span>.set(items);

    <span class="hljs-keyword">if</span> (xt(items.color)) <span class="hljs-built_in">this</span>.convert(items.color);

    <span class="hljs-keyword">if</span> (items.random) <span class="hljs-built_in">this</span>.generateRandomColor(items);

    <span class="hljs-built_in">this</span>.checkValues();

    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
};</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-6">&#x00a7;</a>
              </div>
              <h4 id="color-prototype">Color prototype</h4>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">let</span> P = Color.prototype = <span class="hljs-built_in">Object</span>.create(<span class="hljs-built_in">Object</span>.prototype);
P.type = <span class="hljs-string">&#x27;Color&#x27;</span>;
P.lib = <span class="hljs-string">&#x27;styles&#x27;</span>;
P.isArtefact = <span class="hljs-literal">false</span>;
P.isAsset = <span class="hljs-literal">false</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-7">&#x00a7;</a>
              </div>
              <h4 id="mixins">Mixins</h4>

            </div>
            
            <div class="content"><div class='highlight'><pre>P = baseMix(P);</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-8">&#x00a7;</a>
              </div>
              <h4 id="color-attributes">Color attributes</h4>
<ul>
<li>Attributes defined in the <a href="../mixin/base.html">base mixin</a>: <strong>name</strong>.</li>
</ul>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">let</span> defaultAttributes = {</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-9">&#x00a7;</a>
              </div>
              <p>The color channel attributes <strong>r</strong>, <strong>g</strong>, <strong>b</strong> and <strong>a</strong> are all integer Numbers in the range 0 (no contribution to color from this channel) to 255 (100% contribution)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    r: <span class="hljs-number">0</span>,
    <span class="hljs-attr">g</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">b</span>: <span class="hljs-number">0</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-10">&#x00a7;</a>
              </div>
              <p>The alpha channel attribute <strong>a</strong> is a float Number between 0 (transparent) and 1 (opaque)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    a: <span class="hljs-number">1</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-11">&#x00a7;</a>
              </div>
              <p>We can limit a channel’s range - useful, for instance, when asking the Color object to supply us with a restricted-random color, or when animating the color. Channel maximum values <strong>must</strong> be higher than their minimum values.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    rMax: <span class="hljs-number">255</span>,
    <span class="hljs-attr">gMax</span>: <span class="hljs-number">255</span>,
    <span class="hljs-attr">bMax</span>: <span class="hljs-number">255</span>,
    <span class="hljs-attr">aMax</span>: <span class="hljs-number">1</span>,

    <span class="hljs-attr">rMin</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">gMin</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">bMin</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">aMin</span>: <span class="hljs-number">0</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-12">&#x00a7;</a>
              </div>
              <p>We can ask the Color object to update its channel values when it completes each get() invocation response. Channel <strong>shift</strong> values can be set separately, and can be float Numbers.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    rShift: <span class="hljs-number">0</span>,
    <span class="hljs-attr">gShift</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">bShift</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">aShift</span>: <span class="hljs-number">0</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-13">&#x00a7;</a>
              </div>
              <p>The <strong>bounce</strong> boolean flags determine whether the color animation will be sticky (false, default), remaining at the channel’s minimum or maximum value when it is reached, or whether that channel will bounce between its minimum and maximum values as the animation progresses.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    rBounce: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">gBounce</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">bBounce</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">aBounce</span>: <span class="hljs-literal">false</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-14">&#x00a7;</a>
              </div>
              <p>The <strong>opaque</strong> Boolean flag will supply colors in ‘rgb()’ format; when set to false ‘rgba()’ format colors are supplied.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    opaque: <span class="hljs-literal">true</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-15">&#x00a7;</a>
              </div>
              <p>The <strong>autoUpdate</strong> Boolean flag switches on color animation</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    autoUpdate: <span class="hljs-literal">false</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-16">&#x00a7;</a>
              </div>
              <p>The <strong>easing</strong> attribute affects the <code>getRangeColor</code> function, applying an easing function to those requests.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    easing: <span class="hljs-string">&#x27;linear&#x27;</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-17">&#x00a7;</a>
              </div>
              <h5 id="non-retained-argument-attributes-for-factory-clone-set-functions">Non-retained argument attributes (for factory, clone, set functions)</h5>

            </div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-18">&#x00a7;</a>
              </div>
              <p><strong>random</strong> - the factory function, and the clone function, can ask the Color object to set its initial channel values randomly by including this attribute in the argument object; if the attribute resolves to true, random color functionality is invoked to set the r, g and b channel attributes to appropriately random values.</p>

            </div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-19">&#x00a7;</a>
              </div>
              <p><strong>color</strong> - a CSS color definition String which the Color object will attempt to convert into appropriate r, g, b and a channel attribute values.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>};
P.defs = mergeOver(P.defs, defaultAttributes);</pre></div></div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-20">&#x00a7;</a>
              </div>
              <h4 id="packet-management">Packet management</h4>
<p>No additional packet functionality required</p>

            </div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-21">&#x00a7;</a>
              </div>
              <h4 id="clone-management">Clone management</h4>
<p>No additional clone functionality required</p>

            </div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-22">&#x00a7;</a>
              </div>
              <h4 id="kill-management">Kill management</h4>
<p>Overwrites ./mixin/base.js</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>P.kill = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{

    <span class="hljs-keyword">let</span> myname = <span class="hljs-built_in">this</span>.name;</pre></div></div>
            
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-23">&#x00a7;</a>
              </div>
              <p>Remove style from all entity state objects</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-built_in">Object</span>.entries(entity).forEach(<span class="hljs-function">(<span class="hljs-params">[name, ent]</span>) =&gt;</span> {

        <span class="hljs-keyword">let</span> state = ent.state;

        <span class="hljs-keyword">if</span> (state) {

            <span class="hljs-keyword">let</span> fill = state.fillStyle,
                stroke = state.strokeStyle;

            <span class="hljs-keyword">if</span> (isa_obj(fill) &amp;&amp; fill.name === myname) state.fillStyle = state.defs.fillStyle;
            <span class="hljs-keyword">if</span> (isa_obj(stroke) &amp;&amp; stroke.name === myname) state.strokeStyle = state.defs.strokeStyle;
        }
    });</pre></div></div>
            
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-24">&#x00a7;</a>
              </div>
              <p>Remove style from the Scrawl-canvas library</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-built_in">this</span>.deregister();
    
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
};</pre></div></div>
            
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-25">&#x00a7;</a>
              </div>
              <h4 id="get-set-deltaset">Get, Set, deltaSet</h4>

            </div>
            
        </li>
        
        
        <li id="section-26">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-26">&#x00a7;</a>
              </div>
              <p><code>get</code> - overrides function in mixin/base.js</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>P.get = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>{

    <span class="hljs-keyword">if</span> (!xt(item)) {

        <span class="hljs-keyword">let</span> {r, g, b, a} = <span class="hljs-built_in">this</span>;

        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.opaque) <span class="hljs-keyword">return</span> <span class="hljs-string">`rgb(<span class="hljs-subst">${r}</span>, <span class="hljs-subst">${g}</span>, <span class="hljs-subst">${b}</span>)`</span>;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-string">`rgba(<span class="hljs-subst">${r}</span>, <span class="hljs-subst">${g}</span>, <span class="hljs-subst">${b}</span>, <span class="hljs-subst">${a}</span>)`</span>;
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (item === <span class="hljs-string">&#x27;random&#x27;</span>) {

        <span class="hljs-built_in">this</span>.generateRandomColor();
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.get();
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (item.toFixed) {

        <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.getRangeColor(item);
    }
    <span class="hljs-keyword">else</span>{

        <span class="hljs-keyword">let</span> getter = <span class="hljs-built_in">this</span>.getters[item];

        <span class="hljs-keyword">if</span> (getter) <span class="hljs-keyword">return</span> getter.call(<span class="hljs-built_in">this</span>);

        <span class="hljs-keyword">else</span> {

            <span class="hljs-keyword">let</span> def = <span class="hljs-built_in">this</span>.defs[item];

            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> def != <span class="hljs-string">&#x27;undefined&#x27;</span>) {

                <span class="hljs-keyword">let</span> val = <span class="hljs-built_in">this</span>[item];
                <span class="hljs-keyword">return</span> (<span class="hljs-keyword">typeof</span> val != <span class="hljs-string">&#x27;undefined&#x27;</span>) ? val : def;
            }
            <span class="hljs-keyword">return</span> undef;
        }
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-27">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-27">&#x00a7;</a>
              </div>
              <p><code>set</code> - overrides function in mixin/base.js - see above for the additional attributes the set object argument can use.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>P.set = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">items = {}</span>) </span>{

    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.keys(items).length) {

        <span class="hljs-keyword">let</span> setters = <span class="hljs-built_in">this</span>.setters,
            defs = <span class="hljs-built_in">this</span>.defs,
            predefined;

        <span class="hljs-built_in">Object</span>.entries(items).forEach(<span class="hljs-function">(<span class="hljs-params">[key, value]</span>) =&gt;</span> {

            <span class="hljs-keyword">if</span> (key !== <span class="hljs-string">&#x27;name&#x27;</span>) {

                predefined = setters[key];

                <span class="hljs-keyword">if</span> (predefined) predefined.call(<span class="hljs-built_in">this</span>, value);
                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> defs[key] !== <span class="hljs-string">&#x27;undefined&#x27;</span>) <span class="hljs-built_in">this</span>[key] = value;
            }
        }, <span class="hljs-built_in">this</span>);
    }

    <span class="hljs-keyword">if</span> (items.random) <span class="hljs-built_in">this</span>.generateRandomColor(items);</pre></div></div>
            
        </li>
        
        
        <li id="section-28">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-28">&#x00a7;</a>
              </div>
              <p>else if (items.color) this.convert(items.color);</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">else</span> <span class="hljs-built_in">this</span>.checkValues();

    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
};</pre></div></div>
            
        </li>
        
        
        <li id="section-29">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-29">&#x00a7;</a>
              </div>
              <h4 id="get-set-deltaset">Get, Set, deltaSet</h4>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">let</span> S = P.setters;

S.color = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>{

    <span class="hljs-built_in">this</span>.convert(item);
};
P.setColor = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>{

    <span class="hljs-built_in">this</span>.convert(item);
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
};

S.minimumColor = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>{

    <span class="hljs-keyword">let</span> {r, g, b, a} = <span class="hljs-built_in">this</span>;

    <span class="hljs-built_in">this</span>.convert(item);

    <span class="hljs-built_in">this</span>.rMin = <span class="hljs-built_in">this</span>.r;
    <span class="hljs-built_in">this</span>.gMin = <span class="hljs-built_in">this</span>.g;
    <span class="hljs-built_in">this</span>.bMin = <span class="hljs-built_in">this</span>.b;
    <span class="hljs-built_in">this</span>.aMin = <span class="hljs-built_in">this</span>.a;

    <span class="hljs-built_in">this</span>.r = r;
    <span class="hljs-built_in">this</span>.g = g;
    <span class="hljs-built_in">this</span>.b = b;
    <span class="hljs-built_in">this</span>.a = a;
};
P.setMinimumColor = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>{

    <span class="hljs-keyword">let</span> {r, g, b, a} = <span class="hljs-built_in">this</span>;

    <span class="hljs-built_in">this</span>.convert(item);

    <span class="hljs-built_in">this</span>.rMin = <span class="hljs-built_in">this</span>.r;
    <span class="hljs-built_in">this</span>.gMin = <span class="hljs-built_in">this</span>.g;
    <span class="hljs-built_in">this</span>.bMin = <span class="hljs-built_in">this</span>.b;
    <span class="hljs-built_in">this</span>.aMin = <span class="hljs-built_in">this</span>.a;

    <span class="hljs-built_in">this</span>.r = r;
    <span class="hljs-built_in">this</span>.g = g;
    <span class="hljs-built_in">this</span>.b = b;
    <span class="hljs-built_in">this</span>.a = a;

    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
};

S.maximumColor = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>{

    <span class="hljs-keyword">let</span> {r, g, b, a} = <span class="hljs-built_in">this</span>;

    <span class="hljs-built_in">this</span>.convert(item);

    <span class="hljs-built_in">this</span>.rMax = <span class="hljs-built_in">this</span>.r;
    <span class="hljs-built_in">this</span>.gMax = <span class="hljs-built_in">this</span>.g;
    <span class="hljs-built_in">this</span>.bMax = <span class="hljs-built_in">this</span>.b;
    <span class="hljs-built_in">this</span>.aMax = <span class="hljs-built_in">this</span>.a;

    <span class="hljs-built_in">this</span>.r = r;
    <span class="hljs-built_in">this</span>.g = g;
    <span class="hljs-built_in">this</span>.b = b;
    <span class="hljs-built_in">this</span>.a = a;
};
P.setMaximumColor = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>{

    <span class="hljs-keyword">let</span> {r, g, b, a} = <span class="hljs-built_in">this</span>;

    <span class="hljs-built_in">this</span>.convert(item);

    <span class="hljs-built_in">this</span>.rMax = <span class="hljs-built_in">this</span>.r;
    <span class="hljs-built_in">this</span>.gMax = <span class="hljs-built_in">this</span>.g;
    <span class="hljs-built_in">this</span>.bMax = <span class="hljs-built_in">this</span>.b;
    <span class="hljs-built_in">this</span>.aMax = <span class="hljs-built_in">this</span>.a;

    <span class="hljs-built_in">this</span>.r = r;
    <span class="hljs-built_in">this</span>.g = g;
    <span class="hljs-built_in">this</span>.b = b;
    <span class="hljs-built_in">this</span>.a = a;

    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
};</pre></div></div>
            
        </li>
        
        
        <li id="section-30">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-30">&#x00a7;</a>
              </div>
              <h4 id="prototype-functions">Prototype functions</h4>

            </div>
            
        </li>
        
        
        <li id="section-31">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-31">&#x00a7;</a>
              </div>
              <p><code>getData</code> function called by Cell objects when calculating required updates to its CanvasRenderingContext2D engine, specifically for an entity’s <strong>fillStyle</strong>, <strong>strokeStyle</strong> and <strong>shadowColor</strong> attributes.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>P.getData = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{

    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.autoUpdate) <span class="hljs-built_in">this</span>.update();

    <span class="hljs-built_in">this</span>.checkValues();

    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.get();
};</pre></div></div>
            
        </li>
        
        
        <li id="section-32">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-32">&#x00a7;</a>
              </div>
              <p><code>generateRandomColor</code> function asks the Color object to supply a random color, as restricted by its channel minimum and maximum attributes</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>P.generateRandomColor = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">items = {}</span>) </span>{

    <span class="hljs-keyword">let</span> round = <span class="hljs-built_in">Math</span>.round,
        rnd = <span class="hljs-built_in">Math</span>.random;

    <span class="hljs-keyword">let</span> rMax = <span class="hljs-built_in">this</span>.rMax = xtGet(items.rMax, <span class="hljs-built_in">this</span>.rMax, <span class="hljs-number">255</span>),
        gMax = <span class="hljs-built_in">this</span>.gMax = xtGet(items.gMax, <span class="hljs-built_in">this</span>.gMax, <span class="hljs-number">255</span>),
        bMax = <span class="hljs-built_in">this</span>.bMax = xtGet(items.bMax, <span class="hljs-built_in">this</span>.bMax, <span class="hljs-number">255</span>);

    <span class="hljs-keyword">let</span> rMin = <span class="hljs-built_in">this</span>.rMin = xtGet(items.rMin, <span class="hljs-built_in">this</span>.rMin, <span class="hljs-number">0</span>),
        gMin = <span class="hljs-built_in">this</span>.gMin = xtGet(items.gMin, <span class="hljs-built_in">this</span>.gMin, <span class="hljs-number">0</span>),
        bMin = <span class="hljs-built_in">this</span>.bMin = xtGet(items.bMin, <span class="hljs-built_in">this</span>.bMin, <span class="hljs-number">0</span>);

    <span class="hljs-built_in">this</span>.r = items.r || round((rnd() * (rMax - rMin)) + rMin);
    <span class="hljs-built_in">this</span>.g = items.g || round((rnd() * (gMax - gMin)) + gMin);
    <span class="hljs-built_in">this</span>.b = items.b || round((rnd() * (bMax - bMin)) + bMin);

    <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">this</span>.opaque) {

        aMax = <span class="hljs-built_in">this</span>.aMax = xtGet(items.aMax, <span class="hljs-built_in">this</span>.aMax, <span class="hljs-number">1</span>);
        aMin = <span class="hljs-built_in">this</span>.aMin = xtGet(items.aMin, <span class="hljs-built_in">this</span>.aMin, <span class="hljs-number">0</span>);
        <span class="hljs-built_in">this</span>.a = items.a || (rnd() * (aMax - aMin)) + aMin;
    }

    <span class="hljs-built_in">this</span>.checkValues();
    
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
};</pre></div></div>
            
        </li>
        
        
        <li id="section-33">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-33">&#x00a7;</a>
              </div>
              <p><code>getRangeColor</code> - function which generates a color in the range between the minimum and maximum colors. </p>
<ul>
<li>when the argument is <code>0</code> the minimum color is returned; values below 0 are rounded up to 0</li>
<li>when the argument is <code>1</code> the maximum color is returned; values above 1 are rounded down to 1</li>
<li>values between <code>0</code> and <code>1</code> will return a blended color between the minimum and maximum colors</li>
<li>non-Number arguments should return the Color’s current color value</li>
</ul>

            </div>
            
            <div class="content"><div class='highlight'><pre>P.getRangeColor = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>{

    <span class="hljs-keyword">if</span> (xt(item) &amp;&amp; item.toFixed) {

        <span class="hljs-keyword">let</span> floor = <span class="hljs-built_in">Math</span>.floor;

        <span class="hljs-keyword">let</span> {rMin, gMin, bMin, aMin, rMax, gMax, bMax, aMax, easing} = <span class="hljs-built_in">this</span>;

        <span class="hljs-keyword">if</span> (easing !== <span class="hljs-string">&#x27;linear&#x27;</span>) {

            <span class="hljs-keyword">switch</span> (easing) {
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;easeOutSine&#x27;</span> :
                    item = easeOutSine(item);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;easeInSine&#x27;</span> :
                    item = easeInSine(item);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;easeOutInSine&#x27;</span> :
                    item = easeOutInSine(item);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;easeOutQuad&#x27;</span> :
                    item = easeOutQuad(item);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;easeInQuad&#x27;</span> :
                    item = easeInQuad(item);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;easeOutInQuad&#x27;</span> :
                    item = easeOutInQuad(item);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;easeOutCubic&#x27;</span> :
                    item = easeOutCubic(item);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;easeInCubic&#x27;</span> :
                    item = easeInCubic(item);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;easeOutInCubic&#x27;</span> :
                    item = easeOutInCubic(item);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;easeOutQuart&#x27;</span> :
                    item = easeOutQuart(item);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;easeInQuart&#x27;</span> :
                    item = easeInQuart(item);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;easeOutInQuart&#x27;</span> :
                    item = easeOutInQuart(item);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;easeOutQuint&#x27;</span> :
                    item = easeOutQuint(item);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;easeInQuint&#x27;</span> :
                    item = easeInQuint(item);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;easeOutInQuint&#x27;</span> :
                    item = easeOutInQuint(item);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;easeOutExpo&#x27;</span> :
                    item = easeOutExpo(item);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;easeInExpo&#x27;</span> :
                    item = easeInExpo(item);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;easeOutInExpo&#x27;</span> :
                    item = easeOutInExpo(item);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;easeOutCirc&#x27;</span> :
                    item = easeOutCirc(item);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;easeInCirc&#x27;</span> :
                    item = easeInCirc(item);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;easeOutInCirc&#x27;</span> :
                    item = easeOutInCirc(item);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;easeOutBack&#x27;</span> :
                    item = easeOutBack(item);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;easeInBack&#x27;</span> :
                    item = easeInBack(item);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;easeOutInBack&#x27;</span> :
                    item = easeOutInBack(item);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;easeOutElastic&#x27;</span> :
                    item = easeOutElastic(item);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;easeInElastic&#x27;</span> :
                    item = easeInElastic(item);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;easeOutInElastic&#x27;</span> :
                    item = easeOutInElastic(item);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;easeOutBounce&#x27;</span> :
                    item = easeOutBounce(item);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;easeInBounce&#x27;</span> :
                    item = easeInBounce(item);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;easeOutInBounce&#x27;</span> :
                    item = easeOutInBounce(item);
                    <span class="hljs-keyword">break</span>;
            }
        }

        <span class="hljs-keyword">if</span> (item &gt; <span class="hljs-number">1</span>) item = <span class="hljs-number">1</span>;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (item &lt; <span class="hljs-number">0</span>) item = <span class="hljs-number">0</span>;

        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isNaN</span>(item)) item = <span class="hljs-number">1</span>;

        <span class="hljs-keyword">let</span> r = floor(rMin + ((rMax - rMin) * item));
        <span class="hljs-keyword">let</span> g = floor(gMin + ((gMax - gMin) * item));
        <span class="hljs-keyword">let</span> b = floor(bMin + ((bMax - bMin) * item));
        <span class="hljs-keyword">let</span> a = floor(aMin + ((aMax - aMin) * item));

        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.opaque) <span class="hljs-keyword">return</span> <span class="hljs-string">`rgb(<span class="hljs-subst">${r}</span>, <span class="hljs-subst">${g}</span>, <span class="hljs-subst">${b}</span>)`</span>;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-string">`rgba(<span class="hljs-subst">${r}</span>, <span class="hljs-subst">${g}</span>, <span class="hljs-subst">${b}</span>, <span class="hljs-subst">${a}</span>)`</span>;
    }
    <span class="hljs-keyword">else</span> {

        <span class="hljs-keyword">let</span> {r, g, b, a} = <span class="hljs-built_in">this</span>;

        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.opaque) <span class="hljs-keyword">return</span> <span class="hljs-string">`rgb(<span class="hljs-subst">${r}</span>, <span class="hljs-subst">${g}</span>, <span class="hljs-subst">${b}</span>)`</span>;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-string">`rgba(<span class="hljs-subst">${r}</span>, <span class="hljs-subst">${g}</span>, <span class="hljs-subst">${b}</span>, <span class="hljs-subst">${a}</span>)`</span>;
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-34">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-34">&#x00a7;</a>
              </div>
              <p>Internal function to make sure channel attribute values are in their correct format and ranges</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>P.checkValues = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{

    <span class="hljs-keyword">let</span> f = <span class="hljs-built_in">Math</span>.floor,
        r = f(<span class="hljs-built_in">this</span>.r) || <span class="hljs-number">0</span>,
        g = f(<span class="hljs-built_in">this</span>.g) || <span class="hljs-number">0</span>,
        b = f(<span class="hljs-built_in">this</span>.b) || <span class="hljs-number">0</span>,
        a = <span class="hljs-built_in">this</span>.a;

    <span class="hljs-built_in">this</span>.r = (r &gt; <span class="hljs-number">255</span>) ? <span class="hljs-number">255</span> : ((r &lt; <span class="hljs-number">0</span>) ? <span class="hljs-number">0</span> : r);
    <span class="hljs-built_in">this</span>.g = (g &gt; <span class="hljs-number">255</span>) ? <span class="hljs-number">255</span> : ((g &lt; <span class="hljs-number">0</span>) ? <span class="hljs-number">0</span> : g);
    <span class="hljs-built_in">this</span>.b = (b &gt; <span class="hljs-number">255</span>) ? <span class="hljs-number">255</span> : ((b &lt; <span class="hljs-number">0</span>) ? <span class="hljs-number">0</span> : b);
    <span class="hljs-built_in">this</span>.a = (a &gt; <span class="hljs-number">1</span>) ? <span class="hljs-number">1</span> : ((a &lt; <span class="hljs-number">0</span>) ? <span class="hljs-number">0</span> : a);

    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
};</pre></div></div>
            
        </li>
        
        
        <li id="section-35">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-35">&#x00a7;</a>
              </div>
              <p><code>update</code> function - adds the channel <strong>shift</strong> attributes to the r, g, b and a attributes. This functionality can be automated by setting the <strong>autoUpdate</strong> Boolean flag to true</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>P.updateArray = [<span class="hljs-string">&#x27;r&#x27;</span>, <span class="hljs-string">&#x27;g&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>];
P.update = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{

    <span class="hljs-keyword">if</span> (!xt(<span class="hljs-built_in">this</span>.rCurrent)) <span class="hljs-built_in">this</span>.rCurrent = <span class="hljs-built_in">this</span>.r;
    <span class="hljs-keyword">if</span> (!xt(<span class="hljs-built_in">this</span>.gCurrent)) <span class="hljs-built_in">this</span>.gCurrent = <span class="hljs-built_in">this</span>.g;
    <span class="hljs-keyword">if</span> (!xt(<span class="hljs-built_in">this</span>.bCurrent)) <span class="hljs-built_in">this</span>.bCurrent = <span class="hljs-built_in">this</span>.b;
    <span class="hljs-keyword">if</span> (!xt(<span class="hljs-built_in">this</span>.aCurrent)) <span class="hljs-built_in">this</span>.aCurrent = <span class="hljs-built_in">this</span>.a;

    <span class="hljs-keyword">let</span> list = <span class="hljs-built_in">this</span>.updateArray;

    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.rShift || <span class="hljs-built_in">this</span>.gShift || <span class="hljs-built_in">this</span>.bShift || <span class="hljs-built_in">this</span>.aShift) {

        list.forEach(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {

            <span class="hljs-keyword">let</span> shift = <span class="hljs-built_in">this</span>[item + <span class="hljs-string">&#x27;Shift&#x27;</span>];
        
            <span class="hljs-keyword">if</span> (shift) {

                <span class="hljs-built_in">this</span>[<span class="hljs-string">`<span class="hljs-subst">${item}</span>Current`</span>] += shift;

                <span class="hljs-keyword">let</span> col = <span class="hljs-built_in">this</span>[item],
                    min = <span class="hljs-built_in">this</span>[<span class="hljs-string">`<span class="hljs-subst">${item}</span>Min`</span>],
                    max = <span class="hljs-built_in">this</span>[<span class="hljs-string">`<span class="hljs-subst">${item}</span>Max`</span>],
                    bounce = <span class="hljs-built_in">this</span>[<span class="hljs-string">`<span class="hljs-subst">${item}</span>Bounce`</span>],
                    current = <span class="hljs-built_in">this</span>[<span class="hljs-string">`<span class="hljs-subst">${item}</span>Current`</span>],

                    temp = <span class="hljs-built_in">Math</span>.floor(current + shift);

                <span class="hljs-keyword">if</span> (temp &gt; max || temp &lt; min) {

                    <span class="hljs-keyword">if</span> (bounce) shift = -shift;
                    <span class="hljs-keyword">else</span> {

                        col = (col &gt; (max + min) / <span class="hljs-number">2</span>) ? max : min;
                        shift = <span class="hljs-number">0</span>;
                    }
                }
                
                <span class="hljs-built_in">this</span>[item] = temp;
                <span class="hljs-built_in">this</span>[<span class="hljs-string">`<span class="hljs-subst">${item}</span>Shift`</span>] = shift;
            }
        }, <span class="hljs-built_in">this</span>);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
};</pre></div></div>
            
        </li>
        
        
        <li id="section-36">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-36">&#x00a7;</a>
              </div>
              <p><code>updateByDelta</code> - alias for the <strong>update</strong> function</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>P.updateByDelta = P.update;</pre></div></div>
            
        </li>
        
        
        <li id="section-37">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-37">&#x00a7;</a>
              </div>
              <p>We can also set a Color object to a new color value by invoking its <code>convert</code> function. Any CSS color string can be used as an argument (with exceptions - see above)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>P.convert = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">items</span>) </span>{

    <span class="hljs-keyword">let</span> r, g, b, a, temp,
        round = <span class="hljs-built_in">Math</span>.round;

    items = (items.substring) ? items : <span class="hljs-string">&#x27;&#x27;</span>;

    <span class="hljs-keyword">if</span> (items.length) {

        items.toLowerCase();
        r = <span class="hljs-number">0</span>;
        g = <span class="hljs-number">0</span>;
        b = <span class="hljs-number">0</span>;
        a = <span class="hljs-number">1</span>;
        
        <span class="hljs-keyword">if</span> (items[<span class="hljs-number">0</span>] === <span class="hljs-string">&#x27;#&#x27;</span>) {
        
            <span class="hljs-keyword">if</span> (items.length == <span class="hljs-number">4</span>) {
        
                r = <span class="hljs-built_in">parseInt</span>(items[<span class="hljs-number">1</span>] + items[<span class="hljs-number">1</span>], <span class="hljs-number">16</span>);
                g = <span class="hljs-built_in">parseInt</span>(items[<span class="hljs-number">2</span>] + items[<span class="hljs-number">2</span>], <span class="hljs-number">16</span>);
                b = <span class="hljs-built_in">parseInt</span>(items[<span class="hljs-number">3</span>] + items[<span class="hljs-number">3</span>], <span class="hljs-number">16</span>);
            }
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (items.length == <span class="hljs-number">5</span>) {
        
                r = <span class="hljs-built_in">parseInt</span>(items[<span class="hljs-number">1</span>] + items[<span class="hljs-number">1</span>], <span class="hljs-number">16</span>);
                g = <span class="hljs-built_in">parseInt</span>(items[<span class="hljs-number">2</span>] + items[<span class="hljs-number">2</span>], <span class="hljs-number">16</span>);
                b = <span class="hljs-built_in">parseInt</span>(items[<span class="hljs-number">3</span>] + items[<span class="hljs-number">3</span>], <span class="hljs-number">16</span>);
                a = <span class="hljs-built_in">parseInt</span>(items[<span class="hljs-number">4</span>] + items[<span class="hljs-number">4</span>], <span class="hljs-number">16</span>) / <span class="hljs-number">255</span>;
            }
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (items.length == <span class="hljs-number">7</span>) {
        
                r = <span class="hljs-built_in">parseInt</span>(items[<span class="hljs-number">1</span>] + items[<span class="hljs-number">2</span>], <span class="hljs-number">16</span>);
                g = <span class="hljs-built_in">parseInt</span>(items[<span class="hljs-number">3</span>] + items[<span class="hljs-number">4</span>], <span class="hljs-number">16</span>);
                b = <span class="hljs-built_in">parseInt</span>(items[<span class="hljs-number">5</span>] + items[<span class="hljs-number">6</span>], <span class="hljs-number">16</span>);
            }
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (items.length == <span class="hljs-number">9</span>) {
        
                r = <span class="hljs-built_in">parseInt</span>(items[<span class="hljs-number">1</span>] + items[<span class="hljs-number">2</span>], <span class="hljs-number">16</span>);
                g = <span class="hljs-built_in">parseInt</span>(items[<span class="hljs-number">3</span>] + items[<span class="hljs-number">4</span>], <span class="hljs-number">16</span>);
                b = <span class="hljs-built_in">parseInt</span>(items[<span class="hljs-number">5</span>] + items[<span class="hljs-number">6</span>], <span class="hljs-number">16</span>);
                a = <span class="hljs-built_in">parseInt</span>(items[<span class="hljs-number">7</span>] + items[<span class="hljs-number">8</span>], <span class="hljs-number">16</span>) / <span class="hljs-number">255</span>;
            }
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/rgb\(/</span>.test(items)) {

            temp = items.match(<span class="hljs-regexp">/([0-9.]+\b)/g</span>);

            <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/%/</span>.test(items)) {
            
                r = round((<span class="hljs-built_in">parseFloat</span>(temp[<span class="hljs-number">0</span>]) / <span class="hljs-number">100</span>) * <span class="hljs-number">255</span>);
                g = round((<span class="hljs-built_in">parseFloat</span>(temp[<span class="hljs-number">1</span>]) / <span class="hljs-number">100</span>) * <span class="hljs-number">255</span>);
                b = round((<span class="hljs-built_in">parseFloat</span>(temp[<span class="hljs-number">2</span>]) / <span class="hljs-number">100</span>) * <span class="hljs-number">255</span>);
            }
            <span class="hljs-keyword">else</span> {
            
                r = round(<span class="hljs-built_in">parseFloat</span>(temp[<span class="hljs-number">0</span>]));
                g = round(<span class="hljs-built_in">parseFloat</span>(temp[<span class="hljs-number">1</span>]));
                b = round(<span class="hljs-built_in">parseFloat</span>(temp[<span class="hljs-number">2</span>]));
            }
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/rgba\(/</span>.test(items)) {

            temp = items.match(<span class="hljs-regexp">/([0-9.]+\b)/g</span>);

            <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/%/</span>.test(items)) {
            
                r = round((<span class="hljs-built_in">parseFloat</span>(temp[<span class="hljs-number">0</span>]) / <span class="hljs-number">100</span>) * <span class="hljs-number">255</span>);
                g = round((<span class="hljs-built_in">parseFloat</span>(temp[<span class="hljs-number">1</span>]) / <span class="hljs-number">100</span>) * <span class="hljs-number">255</span>);
                b = round((<span class="hljs-built_in">parseFloat</span>(temp[<span class="hljs-number">2</span>]) / <span class="hljs-number">100</span>) * <span class="hljs-number">255</span>);
                a = <span class="hljs-built_in">parseFloat</span>(temp[<span class="hljs-number">3</span>]) / <span class="hljs-number">100</span>;
            }
            <span class="hljs-keyword">else</span> {
            
                r = round(<span class="hljs-built_in">parseFloat</span>(temp[<span class="hljs-number">0</span>]));
                g = round(<span class="hljs-built_in">parseFloat</span>(temp[<span class="hljs-number">1</span>]));
                b = round(<span class="hljs-built_in">parseFloat</span>(temp[<span class="hljs-number">2</span>]));
                a = temp[<span class="hljs-number">3</span>];
            }
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/hsl\(/</span>.test(items) || <span class="hljs-regexp">/hsla\(/</span>.test(items)) {

            temp = items.match(<span class="hljs-regexp">/([0-9.]+\b)/g</span>);

            <span class="hljs-built_in">this</span>.setFromHSL(<span class="hljs-built_in">parseFloat</span>(temp[<span class="hljs-number">0</span>]), <span class="hljs-built_in">parseFloat</span>(temp[<span class="hljs-number">1</span>]), <span class="hljs-built_in">parseFloat</span>(temp[<span class="hljs-number">2</span>]), <span class="hljs-built_in">parseFloat</span>(temp[<span class="hljs-number">3</span>]));
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (items === <span class="hljs-string">&#x27;transparent&#x27;</span>) {

            r = <span class="hljs-number">0</span>;
            g = <span class="hljs-number">0</span>;
            b = <span class="hljs-number">0</span>;
            a = <span class="hljs-number">0</span>;
        }
        <span class="hljs-keyword">else</span> {

            temp = <span class="hljs-built_in">this</span>.colorLibrary[items];

            <span class="hljs-keyword">if</span> (temp) {
            
                r = <span class="hljs-built_in">parseInt</span>(temp[<span class="hljs-number">0</span>] + temp[<span class="hljs-number">1</span>], <span class="hljs-number">16</span>);
                g = <span class="hljs-built_in">parseInt</span>(temp[<span class="hljs-number">2</span>] + temp[<span class="hljs-number">3</span>], <span class="hljs-number">16</span>);
                b = <span class="hljs-built_in">parseInt</span>(temp[<span class="hljs-number">4</span>] + temp[<span class="hljs-number">5</span>], <span class="hljs-number">16</span>);
                a = <span class="hljs-number">1</span>;
            }
        }

        <span class="hljs-built_in">this</span>.r = r;
        <span class="hljs-built_in">this</span>.g = g;
        <span class="hljs-built_in">this</span>.b = b;
        <span class="hljs-built_in">this</span>.a = a;
        
        <span class="hljs-built_in">this</span>.checkValues();
    }

    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
};


P.getHSLfromRGB = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">dr, dg, db</span>) </span>{

    <span class="hljs-keyword">let</span> minColor = <span class="hljs-built_in">Math</span>.min(dr, dg, db),
        maxColor = <span class="hljs-built_in">Math</span>.max(dr, dg, db);

    <span class="hljs-keyword">let</span> lum = (minColor + maxColor) / <span class="hljs-number">2</span>;

    <span class="hljs-keyword">let</span> sat = <span class="hljs-number">0</span>;

    <span class="hljs-keyword">if</span> (minColor !== maxColor) {

        <span class="hljs-keyword">if</span> (lum &lt;= <span class="hljs-number">0.5</span>) sat = (maxColor - minColor) / (maxColor + minColor);
        <span class="hljs-keyword">else</span> sat = (maxColor - minColor) / (<span class="hljs-number">2</span> - maxColor - minColor);
    }

    <span class="hljs-keyword">let</span> hue = <span class="hljs-number">0</span>;

    <span class="hljs-keyword">if</span> (maxColor === dr) hue = (dg - db) / (maxColor - minColor);
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (maxColor === dg) hue = <span class="hljs-number">2</span> + ((db - dr) / (maxColor - minColor));
    <span class="hljs-keyword">else</span> hue = <span class="hljs-number">4</span> + ((dr - dg) / (maxColor - minColor));

    hue *= <span class="hljs-number">60</span>;

    <span class="hljs-keyword">if</span> (hue &lt; <span class="hljs-number">0</span>) hue += <span class="hljs-number">360</span>;

    <span class="hljs-keyword">return</span> [hue, sat, lum];
};

P.getHSL = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{

    <span class="hljs-keyword">let</span> {r, g, b} = <span class="hljs-built_in">this</span>;

    <span class="hljs-keyword">let</span> minColor = <span class="hljs-built_in">Math</span>.min(r, g, b),
        maxColor = <span class="hljs-built_in">Math</span>.max(r, g, b);

    <span class="hljs-keyword">let</span> lum = (minColor + maxColor) / <span class="hljs-number">2</span>;

    <span class="hljs-keyword">let</span> sat = <span class="hljs-number">0</span>;

    <span class="hljs-keyword">if</span> (minColor !== maxColor) {

        <span class="hljs-keyword">if</span> (lum &lt;= <span class="hljs-number">0.5</span>) sat = (maxColor - minColor) / (maxColor + minColor);
        <span class="hljs-keyword">else</span> sat = (maxColor - minColor) / (<span class="hljs-number">2</span> - maxColor - minColor);
    }

    <span class="hljs-keyword">let</span> hue = <span class="hljs-number">0</span>;

    <span class="hljs-keyword">if</span> (maxColor === r) hue = (g - b) / (maxColor - minColor);
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (maxColor === g) hue = <span class="hljs-number">2</span> + ((b - r) / (maxColor - minColor));
    <span class="hljs-keyword">else</span> hue = <span class="hljs-number">4</span> + ((r - g) / (maxColor - minColor));

    hue *= <span class="hljs-number">60</span>;

    <span class="hljs-keyword">if</span> (hue &lt; <span class="hljs-number">0</span>) hue += <span class="hljs-number">360</span>;

    <span class="hljs-keyword">return</span> [hue, sat, lum];
};

P.getRGBfromHSL = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">h, s, l, a</span>) </span>{

    <span class="hljs-keyword">if</span> (!s) {

        <span class="hljs-keyword">let</span> gray = <span class="hljs-built_in">Math</span>.floor(l * <span class="hljs-number">255</span>);
        <span class="hljs-keyword">return</span> [gray, gray, gray];
    }

    <span class="hljs-keyword">let</span> tempLum1 = (l &lt; <span class="hljs-number">0.5</span>) ? l * (s + <span class="hljs-number">1</span>) : l + s - (l * s),
        tempLum2 = (<span class="hljs-number">2</span> * l) - tempLum1;

    <span class="hljs-keyword">const</span> calculator = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">t, l1, l2</span>) </span>{

        <span class="hljs-keyword">if</span> (t * <span class="hljs-number">6</span> &lt; <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> l2 + ((l1 - l2) * <span class="hljs-number">6</span> * t);
        <span class="hljs-keyword">if</span> (t * <span class="hljs-number">2</span> &lt; <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> l1;
        <span class="hljs-keyword">if</span> (t * <span class="hljs-number">2</span> &lt; <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> l2 + ((l1 - l2) * <span class="hljs-number">6</span> * (t * <span class="hljs-number">0.666</span>));
        <span class="hljs-keyword">return</span> l2;
    };

    h /= <span class="hljs-number">360</span>;

    <span class="hljs-keyword">let</span> tr = h + <span class="hljs-number">0.333</span>,
        tg = h,
        tb = h - <span class="hljs-number">0.333</span>;

    <span class="hljs-keyword">if</span> (tr &lt; <span class="hljs-number">0</span>) tr += <span class="hljs-number">1</span>;
    <span class="hljs-keyword">if</span> (tr &gt; <span class="hljs-number">1</span>) tr -= <span class="hljs-number">1</span>;
    <span class="hljs-keyword">if</span> (tg &lt; <span class="hljs-number">0</span>) tg += <span class="hljs-number">1</span>;
    <span class="hljs-keyword">if</span> (tg &gt; <span class="hljs-number">1</span>) tg -= <span class="hljs-number">1</span>;
    <span class="hljs-keyword">if</span> (tb &lt; <span class="hljs-number">0</span>) tb += <span class="hljs-number">1</span>;
    <span class="hljs-keyword">if</span> (tb &gt; <span class="hljs-number">1</span>) tb -= <span class="hljs-number">1</span>;

    <span class="hljs-keyword">let</span> r = calculator(tr, tempLum1, tempLum2) * <span class="hljs-number">255</span>,
        g = calculator(tg, tempLum1, tempLum2) * <span class="hljs-number">255</span>,
        b = calculator(tb, tempLum1, tempLum2) * <span class="hljs-number">255</span>;

    <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> == a) <span class="hljs-keyword">return</span> [r, g, b];

    <span class="hljs-keyword">return</span> [r, g, b, a * <span class="hljs-number">255</span>];
};

P.setFromHSL = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">h, s, l, a</span>) </span>{

    <span class="hljs-keyword">if</span> (!s) {

        <span class="hljs-keyword">let</span> gray = <span class="hljs-built_in">Math</span>.floor(l * <span class="hljs-number">255</span>);
        <span class="hljs-keyword">return</span> [gray, gray, gray];
    }

    <span class="hljs-keyword">let</span> tempLum1 = (l &lt; <span class="hljs-number">0.5</span>) ? l * (s + <span class="hljs-number">1</span>) : l + s - (l * s),
        tempLum2 = (<span class="hljs-number">2</span> * l) - tempLum1;

    <span class="hljs-keyword">const</span> calculator = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">t, l1, l2</span>) </span>{

        <span class="hljs-keyword">if</span> (t * <span class="hljs-number">6</span> &lt; <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> l2 + ((l1 - l2) * <span class="hljs-number">6</span> * t);
        <span class="hljs-keyword">if</span> (t * <span class="hljs-number">2</span> &lt; <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> l1;
        <span class="hljs-keyword">if</span> (t * <span class="hljs-number">2</span> &lt; <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> l2 + ((l1 - l2) * <span class="hljs-number">6</span> * (t * <span class="hljs-number">0.666</span>));
        <span class="hljs-keyword">return</span> l2;
    };

    h /= <span class="hljs-number">360</span>;

    <span class="hljs-keyword">let</span> tr = h + <span class="hljs-number">0.333</span>,
        tg = h,
        tb = h - <span class="hljs-number">0.333</span>;

    <span class="hljs-keyword">if</span> (tr &lt; <span class="hljs-number">0</span>) tr += <span class="hljs-number">1</span>;
    <span class="hljs-keyword">if</span> (tr &gt; <span class="hljs-number">1</span>) tr -= <span class="hljs-number">1</span>;
    <span class="hljs-keyword">if</span> (tg &lt; <span class="hljs-number">0</span>) tg += <span class="hljs-number">1</span>;
    <span class="hljs-keyword">if</span> (tg &gt; <span class="hljs-number">1</span>) tg -= <span class="hljs-number">1</span>;
    <span class="hljs-keyword">if</span> (tb &lt; <span class="hljs-number">0</span>) tb += <span class="hljs-number">1</span>;
    <span class="hljs-keyword">if</span> (tb &gt; <span class="hljs-number">1</span>) tb -= <span class="hljs-number">1</span>;

    <span class="hljs-built_in">this</span>.r = calculator(tr, tempLum1, tempLum2) * <span class="hljs-number">255</span>,
    <span class="hljs-built_in">this</span>.g = calculator(tg, tempLum1, tempLum2) * <span class="hljs-number">255</span>,
    <span class="hljs-built_in">this</span>.b = calculator(tb, tempLum1, tempLum2) * <span class="hljs-number">255</span>;

    <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> != a) {

        <span class="hljs-built_in">this</span>.a = a * <span class="hljs-number">255</span>;
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-38">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-38">&#x00a7;</a>
              </div>
              <p>Color keywords harvested from <a href="https://developer.mozilla.org/en/docs/Web/CSS/color_value">https://developer.mozilla.org/en/docs/Web/CSS/color_value</a></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>P.colorLibrary = {
    <span class="hljs-attr">aliceblue</span>: <span class="hljs-string">&#x27;f0f8ff&#x27;</span>,
    <span class="hljs-attr">antiquewhite</span>: <span class="hljs-string">&#x27;faebd7&#x27;</span>,
    <span class="hljs-attr">aqua</span>: <span class="hljs-string">&#x27;00ffff&#x27;</span>,
    <span class="hljs-attr">aquamarine</span>: <span class="hljs-string">&#x27;7fffd4&#x27;</span>,
    <span class="hljs-attr">azure</span>: <span class="hljs-string">&#x27;f0ffff&#x27;</span>,
    <span class="hljs-attr">beige</span>: <span class="hljs-string">&#x27;f5f5dc&#x27;</span>,
    <span class="hljs-attr">bisque</span>: <span class="hljs-string">&#x27;ffe4c4&#x27;</span>,
    <span class="hljs-attr">black</span>: <span class="hljs-string">&#x27;000000&#x27;</span>,
    <span class="hljs-attr">blanchedalmond</span>: <span class="hljs-string">&#x27;ffe4c4&#x27;</span>,
    <span class="hljs-attr">blue</span>: <span class="hljs-string">&#x27;0000ff&#x27;</span>,
    <span class="hljs-attr">blueviolet</span>: <span class="hljs-string">&#x27;8a2be2&#x27;</span>,
    <span class="hljs-attr">brown</span>: <span class="hljs-string">&#x27;a52a2a&#x27;</span>,
    <span class="hljs-attr">burlywood</span>: <span class="hljs-string">&#x27;deb887&#x27;</span>,
    <span class="hljs-attr">cadetblue</span>: <span class="hljs-string">&#x27;5f9ea0&#x27;</span>,
    <span class="hljs-attr">chartreuse</span>: <span class="hljs-string">&#x27;7fff00&#x27;</span>,
    <span class="hljs-attr">chocolate</span>: <span class="hljs-string">&#x27;d2691e&#x27;</span>,
    <span class="hljs-attr">coral</span>: <span class="hljs-string">&#x27;ff7f50&#x27;</span>,
    <span class="hljs-attr">cornflowerblue</span>: <span class="hljs-string">&#x27;6495ed&#x27;</span>,
    <span class="hljs-attr">cornsilk</span>: <span class="hljs-string">&#x27;fff8dc&#x27;</span>,
    <span class="hljs-attr">crimson</span>: <span class="hljs-string">&#x27;dc143c&#x27;</span>,
    <span class="hljs-attr">darkblue</span>: <span class="hljs-string">&#x27;00008b&#x27;</span>,
    <span class="hljs-attr">darkcyan</span>: <span class="hljs-string">&#x27;008b8b&#x27;</span>,
    <span class="hljs-attr">darkgoldenrod</span>: <span class="hljs-string">&#x27;b8860b&#x27;</span>,
    <span class="hljs-attr">darkgray</span>: <span class="hljs-string">&#x27;a9a9a9&#x27;</span>,
    <span class="hljs-attr">darkgreen</span>: <span class="hljs-string">&#x27;006400&#x27;</span>,
    <span class="hljs-attr">darkgrey</span>: <span class="hljs-string">&#x27;a9a9a9&#x27;</span>,
    <span class="hljs-attr">darkkhaki</span>: <span class="hljs-string">&#x27;bdb76b&#x27;</span>,
    <span class="hljs-attr">darkmagenta</span>: <span class="hljs-string">&#x27;8b008b&#x27;</span>,
    <span class="hljs-attr">darkolivegreen</span>: <span class="hljs-string">&#x27;556b2f&#x27;</span>,
    <span class="hljs-attr">darkorange</span>: <span class="hljs-string">&#x27;ff8c00&#x27;</span>,
    <span class="hljs-attr">darkorchid</span>: <span class="hljs-string">&#x27;9932cc&#x27;</span>,
    <span class="hljs-attr">darkred</span>: <span class="hljs-string">&#x27;8b0000&#x27;</span>,
    <span class="hljs-attr">darksalmon</span>: <span class="hljs-string">&#x27;e9967a&#x27;</span>,
    <span class="hljs-attr">darkseagreen</span>: <span class="hljs-string">&#x27;8fbc8f&#x27;</span>,
    <span class="hljs-attr">darkslateblue</span>: <span class="hljs-string">&#x27;483d8b&#x27;</span>,
    <span class="hljs-attr">darkslategray</span>: <span class="hljs-string">&#x27;2f4f4f&#x27;</span>,
    <span class="hljs-attr">darkslategrey</span>: <span class="hljs-string">&#x27;2f4f4f&#x27;</span>,
    <span class="hljs-attr">darkturquoise</span>: <span class="hljs-string">&#x27;00ced1&#x27;</span>,
    <span class="hljs-attr">darkviolet</span>: <span class="hljs-string">&#x27;9400d3&#x27;</span>,
    <span class="hljs-attr">deeppink</span>: <span class="hljs-string">&#x27;ff1493&#x27;</span>,
    <span class="hljs-attr">deepskyblue</span>: <span class="hljs-string">&#x27;00bfff&#x27;</span>,
    <span class="hljs-attr">dimgray</span>: <span class="hljs-string">&#x27;696969&#x27;</span>,
    <span class="hljs-attr">dimgrey</span>: <span class="hljs-string">&#x27;696969&#x27;</span>,
    <span class="hljs-attr">dodgerblue</span>: <span class="hljs-string">&#x27;1e90ff&#x27;</span>,
    <span class="hljs-attr">firebrick</span>: <span class="hljs-string">&#x27;b22222&#x27;</span>,
    <span class="hljs-attr">floralwhite</span>: <span class="hljs-string">&#x27;fffaf0&#x27;</span>,
    <span class="hljs-attr">forestgreen</span>: <span class="hljs-string">&#x27;228b22&#x27;</span>,
    <span class="hljs-attr">fuchsia</span>: <span class="hljs-string">&#x27;ff00ff&#x27;</span>,
    <span class="hljs-attr">gainsboro</span>: <span class="hljs-string">&#x27;dcdcdc&#x27;</span>,
    <span class="hljs-attr">ghostwhite</span>: <span class="hljs-string">&#x27;f8f8ff&#x27;</span>,
    <span class="hljs-attr">gold</span>: <span class="hljs-string">&#x27;ffd700&#x27;</span>,
    <span class="hljs-attr">goldenrod</span>: <span class="hljs-string">&#x27;daa520&#x27;</span>,
    <span class="hljs-attr">gray</span>: <span class="hljs-string">&#x27;808080&#x27;</span>,
    <span class="hljs-attr">green</span>: <span class="hljs-string">&#x27;008000&#x27;</span>,
    <span class="hljs-attr">greenyellow</span>: <span class="hljs-string">&#x27;adff2f&#x27;</span>,
    <span class="hljs-attr">grey</span>: <span class="hljs-string">&#x27;808080&#x27;</span>,
    <span class="hljs-attr">honeydew</span>: <span class="hljs-string">&#x27;f0fff0&#x27;</span>,
    <span class="hljs-attr">hotpink</span>: <span class="hljs-string">&#x27;ff69b4&#x27;</span>,
    <span class="hljs-attr">indianred</span>: <span class="hljs-string">&#x27;cd5c5c&#x27;</span>,
    <span class="hljs-attr">indigo</span>: <span class="hljs-string">&#x27;4b0082&#x27;</span>,
    <span class="hljs-attr">ivory</span>: <span class="hljs-string">&#x27;fffff0&#x27;</span>,
    <span class="hljs-attr">khaki</span>: <span class="hljs-string">&#x27;f0e68c&#x27;</span>,
    <span class="hljs-attr">lavender</span>: <span class="hljs-string">&#x27;e6e6fa&#x27;</span>,
    <span class="hljs-attr">lavenderblush</span>: <span class="hljs-string">&#x27;fff0f5&#x27;</span>,
    <span class="hljs-attr">lawngreen</span>: <span class="hljs-string">&#x27;7cfc00&#x27;</span>,
    <span class="hljs-attr">lemonchiffon</span>: <span class="hljs-string">&#x27;fffacd&#x27;</span>,
    <span class="hljs-attr">lightblue</span>: <span class="hljs-string">&#x27;add8e6&#x27;</span>,
    <span class="hljs-attr">lightcoral</span>: <span class="hljs-string">&#x27;f08080&#x27;</span>,
    <span class="hljs-attr">lightcyan</span>: <span class="hljs-string">&#x27;e0ffff&#x27;</span>,
    <span class="hljs-attr">lightgoldenrodyellow</span>: <span class="hljs-string">&#x27;fafad2&#x27;</span>,
    <span class="hljs-attr">lightgray</span>: <span class="hljs-string">&#x27;d3d3d3&#x27;</span>,
    <span class="hljs-attr">lightgreen</span>: <span class="hljs-string">&#x27;90ee90&#x27;</span>,
    <span class="hljs-attr">lightgrey</span>: <span class="hljs-string">&#x27;d3d3d3&#x27;</span>,
    <span class="hljs-attr">lightpink</span>: <span class="hljs-string">&#x27;ffb6c1&#x27;</span>,
    <span class="hljs-attr">lightsalmon</span>: <span class="hljs-string">&#x27;ffa07a&#x27;</span>,
    <span class="hljs-attr">lightseagreen</span>: <span class="hljs-string">&#x27;20b2aa&#x27;</span>,
    <span class="hljs-attr">lightskyblue</span>: <span class="hljs-string">&#x27;87cefa&#x27;</span>,
    <span class="hljs-attr">lightslategray</span>: <span class="hljs-string">&#x27;778899&#x27;</span>,
    <span class="hljs-attr">lightslategrey</span>: <span class="hljs-string">&#x27;778899&#x27;</span>,
    <span class="hljs-attr">lightsteelblue</span>: <span class="hljs-string">&#x27;b0c4de&#x27;</span>,
    <span class="hljs-attr">lightyellow</span>: <span class="hljs-string">&#x27;ffffe0&#x27;</span>,
    <span class="hljs-attr">lime</span>: <span class="hljs-string">&#x27;00ff00&#x27;</span>,
    <span class="hljs-attr">limegreen</span>: <span class="hljs-string">&#x27;32cd32&#x27;</span>,
    <span class="hljs-attr">linen</span>: <span class="hljs-string">&#x27;faf0e6&#x27;</span>,
    <span class="hljs-attr">maroon</span>: <span class="hljs-string">&#x27;800000&#x27;</span>,
    <span class="hljs-attr">mediumaquamarine</span>: <span class="hljs-string">&#x27;66cdaa&#x27;</span>,
    <span class="hljs-attr">mediumblue</span>: <span class="hljs-string">&#x27;0000cd&#x27;</span>,
    <span class="hljs-attr">mediumorchid</span>: <span class="hljs-string">&#x27;ba55d3&#x27;</span>,
    <span class="hljs-attr">mediumpurple</span>: <span class="hljs-string">&#x27;9370db&#x27;</span>,
    <span class="hljs-attr">mediumseagreen</span>: <span class="hljs-string">&#x27;3cb371&#x27;</span>,
    <span class="hljs-attr">mediumslateblue</span>: <span class="hljs-string">&#x27;7b68ee&#x27;</span>,
    <span class="hljs-attr">mediumspringgreen</span>: <span class="hljs-string">&#x27;00fa9a&#x27;</span>,
    <span class="hljs-attr">mediumturquoise</span>: <span class="hljs-string">&#x27;48d1cc&#x27;</span>,
    <span class="hljs-attr">mediumvioletred</span>: <span class="hljs-string">&#x27;c71585&#x27;</span>,
    <span class="hljs-attr">midnightblue</span>: <span class="hljs-string">&#x27;191970&#x27;</span>,
    <span class="hljs-attr">mintcream</span>: <span class="hljs-string">&#x27;f5fffa&#x27;</span>,
    <span class="hljs-attr">mistyrose</span>: <span class="hljs-string">&#x27;ffe4e1&#x27;</span>,
    <span class="hljs-attr">moccasin</span>: <span class="hljs-string">&#x27;ffe4b5&#x27;</span>,
    <span class="hljs-attr">navajowhite</span>: <span class="hljs-string">&#x27;ffdead&#x27;</span>,
    <span class="hljs-attr">navy</span>: <span class="hljs-string">&#x27;000080&#x27;</span>,
    <span class="hljs-attr">oldlace</span>: <span class="hljs-string">&#x27;fdf5e6&#x27;</span>,
    <span class="hljs-attr">olive</span>: <span class="hljs-string">&#x27;808000&#x27;</span>,
    <span class="hljs-attr">olivedrab</span>: <span class="hljs-string">&#x27;6b8e23&#x27;</span>,
    <span class="hljs-attr">orange</span>: <span class="hljs-string">&#x27;ffa500&#x27;</span>,
    <span class="hljs-attr">orangered</span>: <span class="hljs-string">&#x27;ff4500&#x27;</span>,
    <span class="hljs-attr">orchid</span>: <span class="hljs-string">&#x27;da70d6&#x27;</span>,
    <span class="hljs-attr">palegoldenrod</span>: <span class="hljs-string">&#x27;eee8aa&#x27;</span>,
    <span class="hljs-attr">palegreen</span>: <span class="hljs-string">&#x27;98fb98&#x27;</span>,
    <span class="hljs-attr">paleturquoise</span>: <span class="hljs-string">&#x27;afeeee&#x27;</span>,
    <span class="hljs-attr">palevioletred</span>: <span class="hljs-string">&#x27;db7093&#x27;</span>,
    <span class="hljs-attr">papayawhip</span>: <span class="hljs-string">&#x27;ffefd5&#x27;</span>,
    <span class="hljs-attr">peachpuff</span>: <span class="hljs-string">&#x27;ffdab9&#x27;</span>,
    <span class="hljs-attr">peru</span>: <span class="hljs-string">&#x27;cd853f&#x27;</span>,
    <span class="hljs-attr">pink</span>: <span class="hljs-string">&#x27;ffc0cb&#x27;</span>,
    <span class="hljs-attr">plum</span>: <span class="hljs-string">&#x27;dda0dd&#x27;</span>,
    <span class="hljs-attr">powderblue</span>: <span class="hljs-string">&#x27;b0e0e6&#x27;</span>,
    <span class="hljs-attr">purple</span>: <span class="hljs-string">&#x27;800080&#x27;</span>,
    <span class="hljs-attr">rebeccapurple</span>: <span class="hljs-string">&#x27;663399&#x27;</span>,
    <span class="hljs-attr">red</span>: <span class="hljs-string">&#x27;ff0000&#x27;</span>,
    <span class="hljs-attr">rosybrown</span>: <span class="hljs-string">&#x27;bc8f8f&#x27;</span>,
    <span class="hljs-attr">royalblue</span>: <span class="hljs-string">&#x27;4169e1&#x27;</span>,
    <span class="hljs-attr">saddlebrown</span>: <span class="hljs-string">&#x27;8b4513&#x27;</span>,
    <span class="hljs-attr">salmon</span>: <span class="hljs-string">&#x27;fa8072&#x27;</span>,
    <span class="hljs-attr">sandybrown</span>: <span class="hljs-string">&#x27;f4a460&#x27;</span>,
    <span class="hljs-attr">seagreen</span>: <span class="hljs-string">&#x27;2e8b57&#x27;</span>,
    <span class="hljs-attr">seashell</span>: <span class="hljs-string">&#x27;fff5ee&#x27;</span>,
    <span class="hljs-attr">sienna</span>: <span class="hljs-string">&#x27;a0522d&#x27;</span>,
    <span class="hljs-attr">silver</span>: <span class="hljs-string">&#x27;c0c0c0&#x27;</span>,
    <span class="hljs-attr">skyblue</span>: <span class="hljs-string">&#x27;87ceeb&#x27;</span>,
    <span class="hljs-attr">slateblue</span>: <span class="hljs-string">&#x27;6a5acd&#x27;</span>,
    <span class="hljs-attr">slategray</span>: <span class="hljs-string">&#x27;708090&#x27;</span>,
    <span class="hljs-attr">slategrey</span>: <span class="hljs-string">&#x27;708090&#x27;</span>,
    <span class="hljs-attr">snow</span>: <span class="hljs-string">&#x27;fffafa&#x27;</span>,
    <span class="hljs-attr">springgreen</span>: <span class="hljs-string">&#x27;00ff7f&#x27;</span>,
    <span class="hljs-attr">steelblue</span>: <span class="hljs-string">&#x27;4682b4&#x27;</span>,
    <span class="hljs-attr">tan</span>: <span class="hljs-string">&#x27;d2b48c&#x27;</span>,
    <span class="hljs-attr">teal</span>: <span class="hljs-string">&#x27;008080&#x27;</span>,
    <span class="hljs-attr">thistle</span>: <span class="hljs-string">&#x27;d8bfd8&#x27;</span>,
    <span class="hljs-attr">tomato</span>: <span class="hljs-string">&#x27;ff6347&#x27;</span>,
    <span class="hljs-attr">turquoise</span>: <span class="hljs-string">&#x27;40e0d0&#x27;</span>,
    <span class="hljs-attr">violet</span>: <span class="hljs-string">&#x27;ee82ee&#x27;</span>,
    <span class="hljs-attr">wheat</span>: <span class="hljs-string">&#x27;f5deb3&#x27;</span>,
    <span class="hljs-attr">white</span>: <span class="hljs-string">&#x27;ffffff&#x27;</span>,
    <span class="hljs-attr">whitesmoke</span>: <span class="hljs-string">&#x27;f5f5f5&#x27;</span>,
    <span class="hljs-attr">yellow</span>: <span class="hljs-string">&#x27;ffff00&#x27;</span>,
    <span class="hljs-attr">yellowgreen</span>: <span class="hljs-string">&#x27;9acd32&#x27;</span>
};</pre></div></div>
            
        </li>
        
        
        <li id="section-39">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-39">&#x00a7;</a>
              </div>
              <h4 id="factory">Factory</h4>
<pre><code>scrawl.makeColor({

    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;myColorObject&#x27;</span>,

    <span class="hljs-attr">r</span>: <span class="hljs-number">100</span>,
    <span class="hljs-attr">g</span>: <span class="hljs-number">50</span>,
    <span class="hljs-attr">b</span>: <span class="hljs-number">10</span>,

    <span class="hljs-attr">rShift</span>: <span class="hljs-number">0.1</span>,
    <span class="hljs-attr">gShift</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">bShift</span>: -<span class="hljs-number">1.3</span>,

    <span class="hljs-attr">rBounce</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">gBounce</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">bBounce</span>: <span class="hljs-literal">true</span>,

    <span class="hljs-attr">rMax</span>: <span class="hljs-number">160</span>,
    <span class="hljs-attr">gMax</span>: <span class="hljs-number">180</span>,
    <span class="hljs-attr">bMax</span>: <span class="hljs-number">150</span>,

    <span class="hljs-attr">autoUpdate</span>: <span class="hljs-literal">true</span>,
});

scrawl.makeBlock({

    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;block-tester&#x27;</span>,

    <span class="hljs-attr">width</span>: <span class="hljs-number">120</span>,
    <span class="hljs-attr">height</span>: <span class="hljs-number">40</span>,

    <span class="hljs-attr">startX</span>: <span class="hljs-number">60</span>,
    <span class="hljs-attr">startY</span>: <span class="hljs-number">60</span>,

    <span class="hljs-attr">fillStyle</span>: <span class="hljs-string">&#x27;myColorObject&#x27;</span>,
    <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;fill&#x27;</span>,
});
</code></pre>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">const</span> makeColor = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">items</span>) </span>{

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Color(items);
};

<span class="hljs-title">constructors</span>.<span class="hljs-title">Color</span> = <span class="hljs-title">Color</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-40">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-40">&#x00a7;</a>
              </div>
              <h4 id="exports">Exports</h4>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">export</span> {
    makeColor,
};</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>

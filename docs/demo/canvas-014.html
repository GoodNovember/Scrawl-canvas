<!DOCTYPE html>

<html>
<head>
  <title>Demo Canvas 014</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="../docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page_wrapper">
            <div id="jump_page">
              
                
                <a class="source" href="canvas-001.html">
                  ./demo/canvas-001.js
                </a>
              
                
                <a class="source" href="canvas-002.html">
                  ./demo/canvas-002.js
                </a>
              
                
                <a class="source" href="canvas-003.html">
                  ./demo/canvas-003.js
                </a>
              
                
                <a class="source" href="canvas-004.html">
                  ./demo/canvas-004.js
                </a>
              
                
                <a class="source" href="canvas-005.html">
                  ./demo/canvas-005.js
                </a>
              
                
                <a class="source" href="canvas-006.html">
                  ./demo/canvas-006.js
                </a>
              
                
                <a class="source" href="canvas-007.html">
                  ./demo/canvas-007.js
                </a>
              
                
                <a class="source" href="canvas-008.html">
                  ./demo/canvas-008.js
                </a>
              
                
                <a class="source" href="canvas-009.html">
                  ./demo/canvas-009.js
                </a>
              
                
                <a class="source" href="canvas-010.html">
                  ./demo/canvas-010.js
                </a>
              
                
                <a class="source" href="canvas-011.html">
                  ./demo/canvas-011.js
                </a>
              
                
                <a class="source" href="canvas-012.html">
                  ./demo/canvas-012.js
                </a>
              
                
                <a class="source" href="canvas-013.html">
                  ./demo/canvas-013.js
                </a>
              
                
                <a class="source" href="canvas-014.html">
                  ./demo/canvas-014.js
                </a>
              
                
                <a class="source" href="canvas-015.html">
                  ./demo/canvas-015.js
                </a>
              
                
                <a class="source" href="canvas-015a.html">
                  ./demo/canvas-015a.js
                </a>
              
                
                <a class="source" href="canvas-016.html">
                  ./demo/canvas-016.js
                </a>
              
                
                <a class="source" href="canvas-017.html">
                  ./demo/canvas-017.js
                </a>
              
                
                <a class="source" href="canvas-018.html">
                  ./demo/canvas-018.js
                </a>
              
                
                <a class="source" href="canvas-019.html">
                  ./demo/canvas-019.js
                </a>
              
                
                <a class="source" href="canvas-020.html">
                  ./demo/canvas-020.js
                </a>
              
                
                <a class="source" href="canvas-021.html">
                  ./demo/canvas-021.js
                </a>
              
                
                <a class="source" href="canvas-022.html">
                  ./demo/canvas-022.js
                </a>
              
                
                <a class="source" href="canvas-023.html">
                  ./demo/canvas-023.js
                </a>
              
                
                <a class="source" href="canvas-024.html">
                  ./demo/canvas-024.js
                </a>
              
                
                <a class="source" href="canvas-025.html">
                  ./demo/canvas-025.js
                </a>
              
                
                <a class="source" href="canvas-026.html">
                  ./demo/canvas-026.js
                </a>
              
                
                <a class="source" href="canvas-027.html">
                  ./demo/canvas-027.js
                </a>
              
                
                <a class="source" href="canvas-028.html">
                  ./demo/canvas-028.js
                </a>
              
                
                <a class="source" href="canvas-029.html">
                  ./demo/canvas-029.js
                </a>
              
                
                <a class="source" href="canvas-030.html">
                  ./demo/canvas-030.js
                </a>
              
                
                <a class="source" href="canvas-031.html">
                  ./demo/canvas-031.js
                </a>
              
                
                <a class="source" href="canvas-032.html">
                  ./demo/canvas-032.js
                </a>
              
                
                <a class="source" href="canvas-033.html">
                  ./demo/canvas-033.js
                </a>
              
                
                <a class="source" href="canvas-034.html">
                  ./demo/canvas-034.js
                </a>
              
                
                <a class="source" href="canvas-035.html">
                  ./demo/canvas-035.js
                </a>
              
                
                <a class="source" href="canvas-036.html">
                  ./demo/canvas-036.js
                </a>
              
                
                <a class="source" href="canvas-037.html">
                  ./demo/canvas-037.js
                </a>
              
                
                <a class="source" href="canvas-038.html">
                  ./demo/canvas-038.js
                </a>
              
                
                <a class="source" href="canvas-039.html">
                  ./demo/canvas-039.js
                </a>
              
                
                <a class="source" href="canvas-040.html">
                  ./demo/canvas-040.js
                </a>
              
                
                <a class="source" href="canvas-041.html">
                  ./demo/canvas-041.js
                </a>
              
                
                <a class="source" href="canvas-042.html">
                  ./demo/canvas-042.js
                </a>
              
                
                <a class="source" href="canvas-043.html">
                  ./demo/canvas-043.js
                </a>
              
                
                <a class="source" href="canvas-044.html">
                  ./demo/canvas-044.js
                </a>
              
                
                <a class="source" href="canvas-045.html">
                  ./demo/canvas-045.js
                </a>
              
                
                <a class="source" href="canvas-046.html">
                  ./demo/canvas-046.js
                </a>
              
                
                <a class="source" href="canvas-047.html">
                  ./demo/canvas-047.js
                </a>
              
                
                <a class="source" href="core-001.html">
                  ./demo/core-001.js
                </a>
              
                
                <a class="source" href="dom-001.html">
                  ./demo/dom-001.js
                </a>
              
                
                <a class="source" href="dom-002.html">
                  ./demo/dom-002.js
                </a>
              
                
                <a class="source" href="dom-003.html">
                  ./demo/dom-003.js
                </a>
              
                
                <a class="source" href="dom-004.html">
                  ./demo/dom-004.js
                </a>
              
                
                <a class="source" href="dom-005.html">
                  ./demo/dom-005.js
                </a>
              
                
                <a class="source" href="dom-006.html">
                  ./demo/dom-006.js
                </a>
              
                
                <a class="source" href="dom-007.html">
                  ./demo/dom-007.js
                </a>
              
                
                <a class="source" href="dom-008.html">
                  ./demo/dom-008.js
                </a>
              
                
                <a class="source" href="dom-009.html">
                  ./demo/dom-009.js
                </a>
              
                
                <a class="source" href="dom-010.html">
                  ./demo/dom-010.js
                </a>
              
                
                <a class="source" href="dom-011.html">
                  ./demo/dom-011.js
                </a>
              
                
                <a class="source" href="dom-012.html">
                  ./demo/dom-012.js
                </a>
              
                
                <a class="source" href="dom-013.html">
                  ./demo/dom-013.js
                </a>
              
                
                <a class="source" href="dom-014a.html">
                  ./demo/dom-014a.js
                </a>
              
                
                <a class="source" href="dom-014b.html">
                  ./demo/dom-014b.js
                </a>
              
                
                <a class="source" href="dom-014c.html">
                  ./demo/dom-014c.js
                </a>
              
                
                <a class="source" href="dom-015.html">
                  ./demo/dom-015.js
                </a>
              
                
                <a class="source" href="dom-016.html">
                  ./demo/dom-016.js
                </a>
              
                
                <a class="source" href="filters-001.html">
                  ./demo/filters-001.js
                </a>
              
                
                <a class="source" href="filters-002.html">
                  ./demo/filters-002.js
                </a>
              
                
                <a class="source" href="filters-002a.html">
                  ./demo/filters-002a.js
                </a>
              
                
                <a class="source" href="filters-003.html">
                  ./demo/filters-003.js
                </a>
              
                
                <a class="source" href="filters-004.html">
                  ./demo/filters-004.js
                </a>
              
                
                <a class="source" href="filters-005.html">
                  ./demo/filters-005.js
                </a>
              
                
                <a class="source" href="filters-006.html">
                  ./demo/filters-006.js
                </a>
              
                
                <a class="source" href="filters-007.html">
                  ./demo/filters-007.js
                </a>
              
                
                <a class="source" href="filters-008.html">
                  ./demo/filters-008.js
                </a>
              
                
                <a class="source" href="filters-009.html">
                  ./demo/filters-009.js
                </a>
              
                
                <a class="source" href="filters-010.html">
                  ./demo/filters-010.js
                </a>
              
                
                <a class="source" href="filters-011.html">
                  ./demo/filters-011.js
                </a>
              
                
                <a class="source" href="filters-012.html">
                  ./demo/filters-012.js
                </a>
              
                
                <a class="source" href="filters-013.html">
                  ./demo/filters-013.js
                </a>
              
                
                <a class="source" href="filters-014.html">
                  ./demo/filters-014.js
                </a>
              
                
                <a class="source" href="filters-015.html">
                  ./demo/filters-015.js
                </a>
              
                
                <a class="source" href="filters-016.html">
                  ./demo/filters-016.js
                </a>
              
                
                <a class="source" href="filters-017.html">
                  ./demo/filters-017.js
                </a>
              
                
                <a class="source" href="filters-018.html">
                  ./demo/filters-018.js
                </a>
              
                
                <a class="source" href="filters-019.html">
                  ./demo/filters-019.js
                </a>
              
                
                <a class="source" href="filters-020.html">
                  ./demo/filters-020.js
                </a>
              
                
                <a class="source" href="filters-501.html">
                  ./demo/filters-501.js
                </a>
              
                
                <a class="source" href="filters-502.html">
                  ./demo/filters-502.js
                </a>
              
                
                <a class="source" href="filters-503.html">
                  ./demo/filters-503.js
                </a>
              
                
                <a class="source" href="filters-504.html">
                  ./demo/filters-504.js
                </a>
              
                
                <a class="source" href="filters-505.html">
                  ./demo/filters-505.js
                </a>
              
                
                <a class="source" href="modules-001.html">
                  ./demo/modules-001.js
                </a>
              
                
                <a class="source" href="modules-002.html">
                  ./demo/modules-002.js
                </a>
              
                
                <a class="source" href="modules-003.html">
                  ./demo/modules-003.js
                </a>
              
                
                <a class="source" href="packets-001.html">
                  ./demo/packets-001.js
                </a>
              
                
                <a class="source" href="packets-002.html">
                  ./demo/packets-002.js
                </a>
              
                
                <a class="source" href="particles-001.html">
                  ./demo/particles-001.js
                </a>
              
                
                <a class="source" href="particles-002.html">
                  ./demo/particles-002.js
                </a>
              
                
                <a class="source" href="particles-003.html">
                  ./demo/particles-003.js
                </a>
              
                
                <a class="source" href="particles-004.html">
                  ./demo/particles-004.js
                </a>
              
                
                <a class="source" href="particles-005.html">
                  ./demo/particles-005.js
                </a>
              
                
                <a class="source" href="particles-006.html">
                  ./demo/particles-006.js
                </a>
              
                
                <a class="source" href="particles-007.html">
                  ./demo/particles-007.js
                </a>
              
                
                <a class="source" href="particles-008.html">
                  ./demo/particles-008.js
                </a>
              
                
                <a class="source" href="particles-009.html">
                  ./demo/particles-009.js
                </a>
              
                
                <a class="source" href="particles-010.html">
                  ./demo/particles-010.js
                </a>
              
                
                <a class="source" href="particles-011.html">
                  ./demo/particles-011.js
                </a>
              
                
                <a class="source" href="particles-012.html">
                  ./demo/particles-012.js
                </a>
              
                
                <a class="source" href="particles-013.html">
                  ./demo/particles-013.js
                </a>
              
                
                <a class="source" href="particles-014.html">
                  ./demo/particles-014.js
                </a>
              
                
                <a class="source" href="particles-015.html">
                  ./demo/particles-015.js
                </a>
              
                
                <a class="source" href="particles-016.html">
                  ./demo/particles-016.js
                </a>
              
                
                <a class="source" href="snippets-001.html">
                  ./demo/snippets-001.js
                </a>
              
                
                <a class="source" href="snippets-002.html">
                  ./demo/snippets-002.js
                </a>
              
                
                <a class="source" href="temp-001.html">
                  ./demo/temp-001.js
                </a>
              
                
                <a class="source" href="temp-inkscapeSvgFilters.html">
                  ./demo/temp-inkscapeSvgFilters.js
                </a>
              
            </div>
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-1">&#x00a7;</a>
              </div>
              <h1 id="demo-canvas-014">Demo Canvas 014</h1>
<p>Line, Quadratic and Bezier entitys - control lock alternatives</p>

            </div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-2">&#x00a7;</a>
              </div>
              <p><a href="../../demo/canvas-014.html">Run code</a></p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">import</span> scrawl <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../source/scrawl.js&#x27;</span></pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-3">&#x00a7;</a>
              </div>
              <h4 id="scene-setup">Scene setup</h4>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">let</span> canvas = scrawl.library.canvas.mycanvas;

canvas.set({
    <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">&#x27;aliceblue&#x27;</span>,
    <span class="hljs-attr">css</span>: {
        <span class="hljs-attr">border</span>: <span class="hljs-string">&#x27;1px solid black&#x27;</span>,
    }
});</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-4">&#x00a7;</a>
              </div>
              <p>Define the entitys that will be used as pivots and paths before the entitys that use them as such</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>scrawl.makeWheel({

    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;pin-1&#x27;</span>,
    <span class="hljs-attr">order</span>: <span class="hljs-number">2</span>,

    <span class="hljs-attr">startX</span>: <span class="hljs-number">100</span>,
    <span class="hljs-attr">startY</span>: <span class="hljs-number">100</span>,

    <span class="hljs-attr">handleX</span>: <span class="hljs-string">&#x27;center&#x27;</span>,
    <span class="hljs-attr">handleY</span>: <span class="hljs-string">&#x27;center&#x27;</span>,

    <span class="hljs-attr">radius</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">fillStyle</span>: <span class="hljs-string">&#x27;blue&#x27;</span>,
    <span class="hljs-attr">strokeStyle</span>: <span class="hljs-string">&#x27;darkgray&#x27;</span>,
    <span class="hljs-attr">lineWidth</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;fillAndDraw&#x27;</span>,

}).clone({
    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;pin-2&#x27;</span>,
    <span class="hljs-attr">startY</span>: <span class="hljs-number">300</span>,

}).clone({
    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;pin-3&#x27;</span>,
    <span class="hljs-attr">startY</span>: <span class="hljs-number">500</span>,

}).clone({
    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;pin-4&#x27;</span>,
    <span class="hljs-attr">fillStyle</span>: <span class="hljs-string">&#x27;green&#x27;</span>,
    <span class="hljs-attr">startX</span>: <span class="hljs-number">500</span>,
    <span class="hljs-attr">startY</span>: <span class="hljs-number">100</span>,

}).clone({
    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;pin-5&#x27;</span>,
    <span class="hljs-attr">startY</span>: <span class="hljs-number">230</span>,

}).clone({
    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;pin-6&#x27;</span>,
    <span class="hljs-attr">startY</span>: <span class="hljs-number">370</span>,

}).clone({
    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;pin-7&#x27;</span>,
    <span class="hljs-attr">startY</span>: <span class="hljs-number">500</span>,
});</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-5">&#x00a7;</a>
              </div>
              <p>Create a group to hold the draggable artefacts, for easier user action collision detection</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">let</span> pins = scrawl.makeGroup({

    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;my-pins&#x27;</span>,
    <span class="hljs-attr">host</span>: canvas.base.name,

}).addArtefacts(<span class="hljs-string">&#x27;pin-1&#x27;</span>, <span class="hljs-string">&#x27;pin-2&#x27;</span>, <span class="hljs-string">&#x27;pin-3&#x27;</span>, <span class="hljs-string">&#x27;pin-4&#x27;</span>, <span class="hljs-string">&#x27;pin-5&#x27;</span>, <span class="hljs-string">&#x27;pin-6&#x27;</span>, <span class="hljs-string">&#x27;pin-7&#x27;</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-6">&#x00a7;</a>
              </div>
              <p>Now start defining the Shape lines. Bezier, Quadratic and Line Shapes can <code>pivot</code> and <code>path</code> their control coordinates to other artefacts, similar to how start coordinates operate.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>scrawl.makeQuadratic({

    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;my-quad&#x27;</span>,

    <span class="hljs-attr">pivot</span>: <span class="hljs-string">&#x27;pin-1&#x27;</span>,
    <span class="hljs-attr">lockTo</span>: <span class="hljs-string">&#x27;pivot&#x27;</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-7">&#x00a7;</a>
              </div>
              <p>The normal action when the Start coordinates for Bezier, Quadratic and Line Shapes change is that the entire shape moves to the new coordinates. In this demo, we don’t want that; when a user drags the wheel on which the shape’s start coordinates pivots, we want the shape to ‘change shape’. We can make sure this happens by setting its <code>useStartAsControlPoint</code> attribute to true.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    useStartAsControlPoint: <span class="hljs-literal">true</span>,

    <span class="hljs-attr">controlPivot</span>: <span class="hljs-string">&#x27;pin-2&#x27;</span>,
    <span class="hljs-attr">controlLockTo</span>: <span class="hljs-string">&#x27;pivot&#x27;</span>,

    <span class="hljs-attr">endPivot</span>: <span class="hljs-string">&#x27;pin-3&#x27;</span>,
    <span class="hljs-attr">endLockTo</span>: <span class="hljs-string">&#x27;pivot&#x27;</span>,

    <span class="hljs-attr">lineWidth</span>: <span class="hljs-number">5</span>,
    <span class="hljs-attr">lineCap</span>: <span class="hljs-string">&#x27;round&#x27;</span>,
    <span class="hljs-attr">strokeStyle</span>: <span class="hljs-string">&#x27;darkblue&#x27;</span>,
    <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;draw&#x27;</span>,

    <span class="hljs-attr">useAsPath</span>: <span class="hljs-literal">true</span>,
});

scrawl.makeBezier({

    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;my-bezier&#x27;</span>,

    <span class="hljs-attr">pivot</span>: <span class="hljs-string">&#x27;pin-4&#x27;</span>,
    <span class="hljs-attr">lockTo</span>: <span class="hljs-string">&#x27;pivot&#x27;</span>,
    <span class="hljs-attr">useStartAsControlPoint</span>: <span class="hljs-literal">true</span>,

    <span class="hljs-attr">startControlPivot</span>: <span class="hljs-string">&#x27;pin-5&#x27;</span>,
    <span class="hljs-attr">startControlLockTo</span>: <span class="hljs-string">&#x27;pivot&#x27;</span>,

    <span class="hljs-attr">endControlPivot</span>: <span class="hljs-string">&#x27;pin-6&#x27;</span>,
    <span class="hljs-attr">endControlLockTo</span>: <span class="hljs-string">&#x27;pivot&#x27;</span>,

    <span class="hljs-attr">endPivot</span>: <span class="hljs-string">&#x27;pin-7&#x27;</span>,
    <span class="hljs-attr">endLockTo</span>: <span class="hljs-string">&#x27;pivot&#x27;</span>,

    <span class="hljs-attr">lineWidth</span>: <span class="hljs-number">5</span>,
    <span class="hljs-attr">lineCap</span>: <span class="hljs-string">&#x27;round&#x27;</span>,
    <span class="hljs-attr">strokeStyle</span>: <span class="hljs-string">&#x27;darkgreen&#x27;</span>,
    <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;draw&#x27;</span>,

    <span class="hljs-attr">useAsPath</span>: <span class="hljs-literal">true</span>,
});</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-8">&#x00a7;</a>
              </div>
              <p>The ‘path-line’ shape uses the quadratic and bezier curves as paths for its start and end coordinates</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>scrawl.makeLine({

    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;path-line&#x27;</span>,

    <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;my-quad&#x27;</span>,
    <span class="hljs-attr">pathPosition</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">lockTo</span>: <span class="hljs-string">&#x27;path&#x27;</span>,
    <span class="hljs-attr">useStartAsControlPoint</span>: <span class="hljs-literal">true</span>,

    <span class="hljs-attr">endPath</span>: <span class="hljs-string">&#x27;my-bezier&#x27;</span>,
    <span class="hljs-attr">endPathPosition</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">endLockTo</span>: <span class="hljs-string">&#x27;path&#x27;</span>,

    <span class="hljs-attr">lineWidth</span>: <span class="hljs-number">5</span>,
    <span class="hljs-attr">lineCap</span>: <span class="hljs-string">&#x27;round&#x27;</span>,
    <span class="hljs-attr">strokeStyle</span>: <span class="hljs-string">&#x27;black&#x27;</span>,
    <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;draw&#x27;</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-9">&#x00a7;</a>
              </div>
              <p>Delta animate the path-line entity along the lengths of the bezier and quadratic Shape entitys</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    delta: {
        <span class="hljs-attr">pathPosition</span>: <span class="hljs-number">0.0015</span>,
        <span class="hljs-attr">endPathPosition</span>: <span class="hljs-number">0.0015</span>,
    },

    <span class="hljs-attr">useAsPath</span>: <span class="hljs-literal">true</span>,
});</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-10">&#x00a7;</a>
              </div>
              <p>the ‘mouse-line’ shape has its start coordinates permanently fixed to the center of the screen, while its end coordinates alternate between tracking a point along the ‘path-line’ shape, and the mouse cursor when it is moving over the canvas</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>scrawl.makeLine({

    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;mouse-line&#x27;</span>,

    <span class="hljs-attr">startX</span>: <span class="hljs-string">&#x27;center&#x27;</span>,
    <span class="hljs-attr">startY</span>: <span class="hljs-string">&#x27;center&#x27;</span>,
    <span class="hljs-attr">useStartAsControlPoint</span>: <span class="hljs-literal">true</span>,

    <span class="hljs-attr">endPath</span>: <span class="hljs-string">&#x27;path-line&#x27;</span>,
    <span class="hljs-attr">endPathPosition</span>: <span class="hljs-number">0.5</span>,
    <span class="hljs-attr">endLockTo</span>: <span class="hljs-string">&#x27;path&#x27;</span>,

    <span class="hljs-attr">lineWidth</span>: <span class="hljs-number">5</span>,
    <span class="hljs-attr">lineCap</span>: <span class="hljs-string">&#x27;round&#x27;</span>,
    <span class="hljs-attr">strokeStyle</span>: <span class="hljs-string">&#x27;darkred&#x27;</span>,
    <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;draw&#x27;</span>,

    <span class="hljs-attr">useAsPath</span>: <span class="hljs-literal">true</span>,
});</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-11">&#x00a7;</a>
              </div>
              <p>Decorate the ‘mouse-line’ shape with other artefacts to turn it into an arrow</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>scrawl.makeTetragon({

    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;arrowhead&#x27;</span>,

    <span class="hljs-attr">order</span>: <span class="hljs-number">2</span>,

    <span class="hljs-attr">fillStyle</span>: <span class="hljs-string">&#x27;darkred&#x27;</span>,
    <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;fill&#x27;</span>,

    <span class="hljs-attr">radius</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">intersectY</span>: <span class="hljs-number">1.2</span>,

    <span class="hljs-attr">handleX</span>: <span class="hljs-string">&#x27;center&#x27;</span>,
    <span class="hljs-attr">handleY</span>: <span class="hljs-string">&#x27;20%&#x27;</span>,
    <span class="hljs-attr">roll</span>: <span class="hljs-number">90</span>,

    <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;mouse-line&#x27;</span>,
    <span class="hljs-attr">pathPosition</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">lockTo</span>: <span class="hljs-string">&#x27;path&#x27;</span>,
    <span class="hljs-attr">addPathRotation</span>: <span class="hljs-literal">true</span>,
});

scrawl.makeWheel({

    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;arrowbase&#x27;</span>,

    <span class="hljs-attr">order</span>: <span class="hljs-number">2</span>,

    <span class="hljs-attr">fillStyle</span>: <span class="hljs-string">&#x27;darkred&#x27;</span>,
    <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;fill&#x27;</span>,

    <span class="hljs-attr">radius</span>: <span class="hljs-number">20</span>,
    <span class="hljs-attr">startAngle</span>: <span class="hljs-number">90</span>,
    <span class="hljs-attr">endAngle</span>: -<span class="hljs-number">90</span>,

    <span class="hljs-attr">handleX</span>: <span class="hljs-string">&#x27;center&#x27;</span>,
    <span class="hljs-attr">handleY</span>: <span class="hljs-string">&#x27;center&#x27;</span>,

    <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;mouse-line&#x27;</span>,
    <span class="hljs-attr">pathPosition</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">lockTo</span>: <span class="hljs-string">&#x27;path&#x27;</span>,
    <span class="hljs-attr">addPathRotation</span>: <span class="hljs-literal">true</span>,
});</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-12">&#x00a7;</a>
              </div>
              <p>We can always grab a handle to any canvas entity by reference to its entry in the Scrawl-canvas library. Entitys are stored in both the <code>artefact</code> and the <code>entity</code> sections of the library</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">let</span> arrow = scrawl.library.entity[<span class="hljs-string">&#x27;mouse-line&#x27;</span>];</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-13">&#x00a7;</a>
              </div>
              <p>Testing to make sure artefacts stick to their paths, even when those paths are animated or manipulated in various ways</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>scrawl.makePicture({

    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;bunny1&#x27;</span>,
    <span class="hljs-attr">imageSource</span>: <span class="hljs-string">&#x27;img/bunny.png&#x27;</span>,

    <span class="hljs-attr">width</span>: <span class="hljs-number">26</span>,
    <span class="hljs-attr">height</span>: <span class="hljs-number">37</span>,

    <span class="hljs-attr">copyWidth</span>: <span class="hljs-number">26</span>,
    <span class="hljs-attr">copyHeight</span>: <span class="hljs-number">37</span>,

    <span class="hljs-attr">handleX</span>: <span class="hljs-string">&#x27;center&#x27;</span>,
    <span class="hljs-attr">handleY</span>: <span class="hljs-string">&#x27;center&#x27;</span>,

    <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;path-line&#x27;</span>,
    <span class="hljs-attr">pathPosition</span>: <span class="hljs-number">0.1</span>,
    <span class="hljs-attr">addPathRotation</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">lockTo</span>: <span class="hljs-string">&#x27;path&#x27;</span>,

}).clone({

    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;bunny2&#x27;</span>,
    <span class="hljs-attr">pathPosition</span>: <span class="hljs-number">0.9</span>,
});</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-14">&#x00a7;</a>
              </div>
              <h4 id="user-interaction">User interaction</h4>
<p>Create the drag-and-drop zone</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>scrawl.makeDragZone({

    <span class="hljs-attr">zone</span>: canvas,
    <span class="hljs-attr">collisionGroup</span>: pins,
    <span class="hljs-attr">endOn</span>: [<span class="hljs-string">&#x27;up&#x27;</span>, <span class="hljs-string">&#x27;leave&#x27;</span>],
    <span class="hljs-attr">exposeCurrentArtefact</span>: <span class="hljs-literal">true</span>,
});</pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-15">&#x00a7;</a>
              </div>
              <p>Function to check whether mouse cursor is over canvas, and lock the arrow’s end point accordingly</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">let</span> mouseCheck = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{

    <span class="hljs-keyword">let</span> active = <span class="hljs-literal">false</span>;

    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{

        <span class="hljs-keyword">if</span> (canvas.here.active !== active) {

            active = canvas.here.active;

            arrow.set({
                <span class="hljs-attr">endLockTo</span>: (active) ? <span class="hljs-string">&#x27;mouse&#x27;</span> : <span class="hljs-string">&#x27;path&#x27;</span>
            });
        }
    };
}();</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-16">&#x00a7;</a>
              </div>
              <h4 id="scene-animation">Scene animation</h4>
<p>Function to display frames-per-second data, and other information relevant to the demo</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">let</span> report = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{

    <span class="hljs-keyword">let</span> testTicker = <span class="hljs-built_in">Date</span>.now(),
        testTime, testNow,
        testMessage = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&#x27;#reportmessage&#x27;</span>);

    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{

        testNow = <span class="hljs-built_in">Date</span>.now();
        testTime = testNow - testTicker;
        testTicker = testNow;

        testMessage.textContent = <span class="hljs-string">`Screen refresh: <span class="hljs-subst">${<span class="hljs-built_in">Math</span>.ceil(testTime)}</span>ms; fps: <span class="hljs-subst">${<span class="hljs-built_in">Math</span>.floor(<span class="hljs-number">1000</span> / testTime)}</span>`</span>;
    };
}();</pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-17">&#x00a7;</a>
              </div>
              <p>Create the Display cycle animation</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>scrawl.makeRender({

    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;demo-animation&#x27;</span>,
    <span class="hljs-attr">target</span>: canvas,
    <span class="hljs-attr">commence</span>: mouseCheck,
    <span class="hljs-attr">afterShow</span>: report,
});</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-18">&#x00a7;</a>
              </div>
              <h4 id="development-and-testing">Development and testing</h4>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-built_in">console</span>.log(scrawl.library);</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-19">&#x00a7;</a>
              </div>
              <p>To test kill functionality</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">let</span> killArtefact = <span class="hljs-function">(<span class="hljs-params">name, time, finishResurrection</span>) =&gt;</span> {

    <span class="hljs-keyword">let</span> groupname = <span class="hljs-string">&#x27;mycanvas_base&#x27;</span>,
        packet;

    <span class="hljs-keyword">let</span> checkGroupBucket = <span class="hljs-function">(<span class="hljs-params">name, groupname</span>) =&gt;</span> {

        <span class="hljs-keyword">let</span> res = scrawl.library.group[groupname].artefactBuckets.filter(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> e.name === name );
        <span class="hljs-keyword">return</span> (res.length) ? <span class="hljs-string">&#x27;no&#x27;</span> : <span class="hljs-string">&#x27;yes&#x27;</span>;
    };

    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {

        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`<span class="hljs-subst">${name}</span> alive
    removed from artefact: <span class="hljs-subst">${(scrawl.library.artefact[name]) ? <span class="hljs-string">&#x27;no&#x27;</span> : <span class="hljs-string">&#x27;yes&#x27;</span>}</span>
    removed from artefactnames: <span class="hljs-subst">${(scrawl.library.artefactnames.indexOf(name) &gt;= <span class="hljs-number">0</span>) ? <span class="hljs-string">&#x27;no&#x27;</span> : <span class="hljs-string">&#x27;yes&#x27;</span>}</span>
    removed from entity: <span class="hljs-subst">${(scrawl.library.entity[name]) ? <span class="hljs-string">&#x27;no&#x27;</span> : <span class="hljs-string">&#x27;yes&#x27;</span>}</span>
    removed from entitynames: <span class="hljs-subst">${(scrawl.library.entitynames.indexOf(name) &gt;= <span class="hljs-number">0</span>) ? <span class="hljs-string">&#x27;no&#x27;</span> : <span class="hljs-string">&#x27;yes&#x27;</span>}</span>
    removed from group.artefacts: <span class="hljs-subst">${(scrawl.library.group[groupname].artefacts.indexOf(name) &gt;= <span class="hljs-number">0</span>) ? <span class="hljs-string">&#x27;no&#x27;</span> : <span class="hljs-string">&#x27;yes&#x27;</span>}</span>
    removed from group.artefactBuckets: <span class="hljs-subst">${checkGroupBucket(name, groupname)}</span>`</span>);

        packet = scrawl.library.artefact[name].saveAsPacket();

        scrawl.library.artefact[name].kill();

        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {

            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`<span class="hljs-subst">${name}</span> killed
    removed from artefact: <span class="hljs-subst">${(scrawl.library.artefact[name]) ? <span class="hljs-string">&#x27;no&#x27;</span> : <span class="hljs-string">&#x27;yes&#x27;</span>}</span>
    removed from artefactnames: <span class="hljs-subst">${(scrawl.library.artefactnames.indexOf(name) &gt;= <span class="hljs-number">0</span>) ? <span class="hljs-string">&#x27;no&#x27;</span> : <span class="hljs-string">&#x27;yes&#x27;</span>}</span>
    removed from entity: <span class="hljs-subst">${(scrawl.library.entity[name]) ? <span class="hljs-string">&#x27;no&#x27;</span> : <span class="hljs-string">&#x27;yes&#x27;</span>}</span>
    removed from entitynames: <span class="hljs-subst">${(scrawl.library.entitynames.indexOf(name) &gt;= <span class="hljs-number">0</span>) ? <span class="hljs-string">&#x27;no&#x27;</span> : <span class="hljs-string">&#x27;yes&#x27;</span>}</span>
    removed from group.artefacts: <span class="hljs-subst">${(scrawl.library.group[groupname].artefacts.indexOf(name) &gt;= <span class="hljs-number">0</span>) ? <span class="hljs-string">&#x27;no&#x27;</span> : <span class="hljs-string">&#x27;yes&#x27;</span>}</span>
    removed from group.artefactBuckets: <span class="hljs-subst">${checkGroupBucket(name, groupname)}</span>`</span>);

            canvas.actionPacket(packet);

            <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {

                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`<span class="hljs-subst">${name}</span> resurrected
    removed from artefact: <span class="hljs-subst">${(scrawl.library.artefact[name]) ? <span class="hljs-string">&#x27;no&#x27;</span> : <span class="hljs-string">&#x27;yes&#x27;</span>}</span>
    removed from artefactnames: <span class="hljs-subst">${(scrawl.library.artefactnames.indexOf(name) &gt;= <span class="hljs-number">0</span>) ? <span class="hljs-string">&#x27;no&#x27;</span> : <span class="hljs-string">&#x27;yes&#x27;</span>}</span>
    removed from entity: <span class="hljs-subst">${(scrawl.library.entity[name]) ? <span class="hljs-string">&#x27;no&#x27;</span> : <span class="hljs-string">&#x27;yes&#x27;</span>}</span>
    removed from entitynames: <span class="hljs-subst">${(scrawl.library.entitynames.indexOf(name) &gt;= <span class="hljs-number">0</span>) ? <span class="hljs-string">&#x27;no&#x27;</span> : <span class="hljs-string">&#x27;yes&#x27;</span>}</span>
    removed from group.artefacts: <span class="hljs-subst">${(scrawl.library.group[groupname].artefacts.indexOf(name) &gt;= <span class="hljs-number">0</span>) ? <span class="hljs-string">&#x27;no&#x27;</span> : <span class="hljs-string">&#x27;yes&#x27;</span>}</span>
    removed from group.artefactBuckets: <span class="hljs-subst">${checkGroupBucket(name, groupname)}</span>`</span>);

                finishResurrection();

            }, <span class="hljs-number">100</span>);
        }, <span class="hljs-number">100</span>);
    }, time);
};

killArtefact(<span class="hljs-string">&#x27;pin-1&#x27;</span>, <span class="hljs-number">2000</span>, <span class="hljs-function">() =&gt;</span> {

    pins.addArtefacts(<span class="hljs-string">&#x27;pin-1&#x27;</span>);

    scrawl.library.artefact[<span class="hljs-string">&#x27;my-quad&#x27;</span>].set({
        <span class="hljs-attr">pivot</span>: <span class="hljs-string">&#x27;pin-1&#x27;</span>,
        <span class="hljs-attr">lockTo</span>: <span class="hljs-string">&#x27;pivot&#x27;</span>,
    });
});

killArtefact(<span class="hljs-string">&#x27;pin-5&#x27;</span>, <span class="hljs-number">3000</span>, <span class="hljs-function">() =&gt;</span> {

    pins.addArtefacts(<span class="hljs-string">&#x27;pin-5&#x27;</span>);

    scrawl.library.artefact[<span class="hljs-string">&#x27;my-bezier&#x27;</span>].set({
        <span class="hljs-attr">startControlPivot</span>: <span class="hljs-string">&#x27;pin-5&#x27;</span>,
        <span class="hljs-attr">startControlLockTo</span>: <span class="hljs-string">&#x27;pivot&#x27;</span>,
    });
});

killArtefact(<span class="hljs-string">&#x27;pin-7&#x27;</span>, <span class="hljs-number">4000</span>, <span class="hljs-function">() =&gt;</span> {

    pins.addArtefacts(<span class="hljs-string">&#x27;pin-7&#x27;</span>);

    scrawl.library.artefact[<span class="hljs-string">&#x27;my-bezier&#x27;</span>].set({
        <span class="hljs-attr">endPivot</span>: <span class="hljs-string">&#x27;pin-7&#x27;</span>,
        <span class="hljs-attr">endLockTo</span>: <span class="hljs-string">&#x27;pivot&#x27;</span>,
    });
});

killArtefact(<span class="hljs-string">&#x27;my-bezier&#x27;</span>, <span class="hljs-number">5000</span>, <span class="hljs-function">() =&gt;</span> {

    scrawl.library.artefact[<span class="hljs-string">&#x27;path-line&#x27;</span>].set({
        <span class="hljs-attr">endPath</span>: <span class="hljs-string">&#x27;my-bezier&#x27;</span>,
        <span class="hljs-attr">endLockTo</span>: <span class="hljs-string">&#x27;path&#x27;</span>,
    });
});</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
